<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>KaiGPT â€¢ SAFI â€” Knowing.AI (GEM Opening Edition)</title>
<meta name="description" content="KaiGPT powered by SAFI â€” Egypt's First AI Guide for the Grand Egyptian Museum. The world's largest archaeological museum opens November 1, 2025!"/>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' fill='%23000000'/%3E%3Ccircle cx='32' cy='32' r='22' fill='none' stroke='%2388d6ce' stroke-width='2.5'/%3E%3C/svg%3E">
<style>
  :root{
    --bg:#070707;
    --panel:#0e0e0f;
    --muted:#9aa3a8;
    --text:#eef2f3;
    --accent:#00b7a9;
    --gold:#FFD700;
    --egyptian-blue:#1034A6;
    --glass: rgba(255,255,255,0.02);
    --radius:12px;
    --max-width:980px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Roboto, "Cairo", system-ui, -apple-system;background:linear-gradient(180deg,var(--bg),#050505);color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:var(--accent);text-decoration:none}

  /* Enhanced animations */
  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(0,183,169,0.3); }
    50% { box-shadow: 0 0 40px rgba(0,183,169,0.6); }
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
  @keyframes slideIn {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  /* layout */
  .root{display:flex;min-height:100vh;padding:18px;gap:18px}
  .sidebar{
    width:340px;background:linear-gradient(180deg,var(--panel),#0b0b0b);border-radius:var(--radius);
    padding:20px;display:flex;flex-direction:column;gap:16px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 8px 30px rgba(0,0,0,0.6)
  }

  .brand{display:flex;align-items:center;gap:12px}
  .logo{
    width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,#111,#141414);
    display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,0.03); 
    font-weight:800;color:var(--accent); font-size:18px;
    position:relative;overflow:hidden;
  }
  .logo::before{
    content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
    background:conic-gradient(transparent, rgba(0,183,169,0.1), transparent);
    animation:spin 3s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  
  .brand h1{margin:0;font-size:19px;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .brand .sub{color:var(--muted);font-size:13px;margin-top:2px}

  .slogan{font-weight:700;color:var(--accent);margin-top:8px;font-size:15px}
  .powered{color:var(--muted);font-size:12px;margin-top:12px}

  .countdown{
    background:linear-gradient(135deg, var(--egyptian-blue), var(--accent));
    padding:16px;border-radius:12px;text-align:center;margin:12px 0;
    animation:glow 2s ease-in-out infinite;
  }
  .countdown-text{font-weight:800;color:white;font-size:14px;margin-bottom:8px}
  .countdown-time{font-size:20px;font-weight:900;color:var(--gold);text-shadow:0 0 10px rgba(255,215,0,0.5)}

  .stats{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:12px 0}
  .stat{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;text-align:center;border:1px solid rgba(255,255,255,0.03)}
  .stat-number{font-size:18px;font-weight:800;color:var(--gold)}
  .stat-label{font-size:11px;color:var(--muted);margin-top:4px}

  .quick{display:flex;flex-direction:column;gap:10px}
  .quick button{background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);padding:12px;border-radius:10px;text-align:right;cursor:pointer;transition:all 0.3s ease}
  .quick button:hover{color:var(--text);background:rgba(255,255,255,0.02);border-color:var(--accent);transform:translateX(-3px)}

  .sidebar .footer{margin-top:auto;color:var(--muted);font-size:12px;text-align:center;padding:12px 0;border-top:1px solid rgba(255,255,255,0.03)}

  /* main */
  .main{flex:1;display:flex;flex-direction:column;gap:12px}
  .topbar{display:flex;align-items:center;justify-content:space-between;padding:6px 12px}
  .title{font-size:22px;font-weight:800;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .tag{background:var(--glass);padding:8px 12px;border-radius:10px;color:var(--gold);font-weight:700;border:1px solid rgba(255,215,0,0.2)}

  .container{flex:1;display:flex;gap:18px;align-items:stretch}
  .chat-column{flex:1;max-width:var(--max-width);margin:0 auto;display:flex;flex-direction:column;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)}
  .messages{flex:1;padding:28px;overflow:auto;display:flex;flex-direction:column;gap:18px;min-height:420px}
  
  .welcome{display:flex;gap:16px;align-items:flex-start;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);animation:slideIn 0.6s ease-out}
  .avatar{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;background:linear-gradient(135deg,#151515,#0f0f0f);border:3px solid rgba(255,215,0,0.2);position:relative}
  .avatar::after{content:'';position:absolute;inset:-3px;border-radius:50%;background:conic-gradient(var(--gold), var(--accent), var(--gold));z-index:-1;animation:spin 4s linear infinite}
  
  .welcome-text h2{margin:0 0 8px 0;font-size:24px;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .welcome-text p{margin:0;color:var(--muted);line-height:1.6;max-width:720px}

  .msg{display:flex;gap:12px;align-items:flex-start;animation:slideIn 0.4s ease-out}
  .msg.user{flex-direction:row-reverse;justify-content:flex-end}
  .bubble{padding:16px 18px;border-radius:12px;max-width:78%;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;position:relative}
  .msg.user .bubble{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));color:var(--text);border:1px solid rgba(255,255,255,0.02)}
  .msg.bot .bubble{background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(255,255,255,0.01));color:var(--text);border:1px solid rgba(0,0,0,0.18);box-shadow:0 6px 18px rgba(2,4,6,0.6)}
  .bubble .title-small{font-weight:700;color:var(--accent);font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:8px}
  .bubble .title-small::before{content:'ğŸ‘¸ğŸ»';font-size:16px}

  .composer{padding:18px;border-top:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg, rgba(255,255,255,0.005), transparent)}
  .composer-inner{display:flex;gap:12px;align-items:flex-end;max-width:var(--max-width);margin:0 auto}
  textarea.input{flex:1;min-height:56px;max-height:260px;resize:none;border-radius:12px;padding:16px;background:var(--panel);border:1px solid rgba(255,255,255,0.02);color:var(--text);font-size:16px;outline:none;font-family:inherit;transition:border-color 0.3s ease}
  textarea.input:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,183,169,0.1)}
  
  .controls{display:flex;gap:8px;align-items:center}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text);padding:12px 14px;border-radius:10px;cursor:pointer;transition:all 0.3s ease}
  .btn:hover{background:rgba(255,255,255,0.02);border-color:var(--accent)}
  .btn.primary{background:linear-gradient(90deg,var(--accent),#009888);color:#021;border:none;font-weight:800;box-shadow:0 8px 20px rgba(0,183,169,0.08);transform:scale(1)}
  .btn.primary:hover{transform:scale(1.05);box-shadow:0 12px 30px rgba(0,183,169,0.15)}

  .small-note{color:var(--muted);font-size:13px;text-align:center;margin-top:10px}

  .right-col{width:340px;display:flex;flex-direction:column;gap:12px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);color:var(--muted)}
  .card h3{margin:0 0 10px 0;color:var(--text);font-size:16px}

  .live-info{background:linear-gradient(135deg, #1a1a1a, #0d1421);border:2px solid var(--accent);animation:glow 3s ease-in-out infinite}
  .live-badge{display:inline-flex;align-items:center;gap:6px;background:var(--accent);color:#000;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:800;margin-bottom:8px}
  .live-dot{width:6px;height:6px;background:#ff4444;border-radius:50%;animation:pulse 1s infinite}

  /* Enhanced mobile responsiveness */
  @media (max-width:1100px){
    .root{padding:12px;flex-direction:column}
    .sidebar{width:100%;order:2}
    .right-col{width:100%;order:3}
    .chat-column{max-width:100%;order:1}
    .container{flex-direction:column}
    .msg.user{flex-direction:row}
    .bubble{max-width:90%}
  }

  /* Typing indicator */
  .typing-dots{display:inline-flex;gap:4px;align-items:center}
  .typing-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;animation:typing 1.4s infinite}
  .typing-dot:nth-child(2){animation-delay:0.2s}
  .typing-dot:nth-child(3){animation-delay:0.4s}
  @keyframes typing {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
  }

  footer.app-footer{
    width:100%; text-align:center; padding:16px 0; color:var(--muted); font-size:12px;
    background:transparent; border-top:1px solid rgba(255,255,255,0.02)
  }
</style>
</head>
<body>
  <div class="root" role="application" aria-label="KaiGPT â€¢ SAFI">
    <aside class="sidebar" aria-label="Sidebar">
      <div>
        <div class="brand">
          <div class="logo" aria-hidden="true">KAI</div>
          <div>
            <h1>Knowing.AI</h1>
            <div class="sub">KaiGPT â€¢ SAFI â€” GEM Opening Edition</div>
          </div>
        </div>

        <div class="slogan">Know more. Do more.</div>

        <div class="countdown">
          <div class="countdown-text">ğŸ›ï¸ GEM Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±</div>
          <div class="countdown-time" id="countdown">OPENING DAY!</div>
          <div style="font-size:12px;color:white;margin-top:4px">1 November 2025</div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="stat-number">100K+</div>
            <div class="stat-label">Ù‚Ø·Ø¹Ø© Ø£Ø«Ø±ÙŠØ©</div>
          </div>
          <div class="stat">
            <div class="stat-number">5000+</div>
            <div class="stat-label">ÙƒÙ†ÙˆØ² ØªÙˆØª</div>
          </div>
          <div class="stat">
            <div class="stat-number">480K</div>
            <div class="stat-label">Ù…Â² Ù…Ø³Ø§Ø­Ø©</div>
          </div>
          <div class="stat">
            <div class="stat-number">5M</div>
            <div class="stat-label">Ø²Ø§Ø¦Ø± Ø³Ù†ÙˆÙŠØ§Ù‹</div>
          </div>
        </div>

        <div style="margin-top:14px;">
          <div class="card" style="margin-bottom:12px">
            <strong style="color:var(--text)">SAFI â€” Ø§Ù„Ù…Ø±Ø´Ø¯Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©</strong>
            <div style="margin-top:8px;color:var(--muted);font-size:13px">Ø£ÙˆÙ„ Ù…Ø±Ø´Ø¯Ø© Ø°ÙƒÙŠØ© Ù…ØµØ±ÙŠØ© ØªØªÙƒÙ„Ù… Ø¹Ø±Ø¨ÙŠ Ù…ØµØ±ÙŠ Ø£ØµÙŠÙ„ ÙˆØ¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø¨Ø·Ù„Ø§Ù‚Ø©. Ø®Ø¨ÙŠØ±Ø© ÙÙŠ ØªØ§Ø±ÙŠØ® Ù…ØµØ± ÙˆØ§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±.</div>
          </div>

          <div class="card">
            <div style="font-weight:700;margin-bottom:8px;color:var(--text)">ğŸ¯ Ø£Ø³Ø¦Ù„Ø© Ø³Ø±ÙŠØ¹Ø©</div>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button class="btn" onclick="app.sendPrompt('Ù…ØªÙ‰ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±ØŸ')">ğŸ›ï¸ Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§ÙØªØªØ§Ø­</button>
              <button class="btn" onclick="app.sendPrompt('What makes GEM the world\'s largest museum?')">ğŸŒ Ø§Ù„Ø£ÙƒØ¨Ø± Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹</button>
              <button class="btn" onclick="app.sendPrompt('Ø£ÙŠÙ‡ Ø£Ù‡Ù… ÙƒÙ†ÙˆØ² ØªÙˆØª Ø¹Ù†Ø® Ø¢Ù…ÙˆÙ† ÙÙŠ Ø§Ù„Ù…ØªØ­ÙØŸ')">ğŸ‘‘ ÙƒÙ†ÙˆØ² ØªÙˆØª</button>
              <button class="btn" onclick="app.sendPrompt('Tell me about SAFI and Knowing.AI')">ğŸ¤– Ø¹Ù† ØµØ§ÙÙŠ</button>
              <button class="btn" onclick="app.sendPrompt('Ø£Ø³Ø¹Ø§Ø± ØªØ°Ø§ÙƒØ± Ø§Ù„Ù…ØªØ­Ù Ø£ÙŠÙ‡ØŸ')">ğŸ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªØ°Ø§ÙƒØ±</button>
              <button class="btn" onclick="app.sendPrompt('How can I visit GEM from Cairo?')">ğŸš— Ø¥Ø²Ø§ÙŠ Ø£Ø±ÙˆØ­</button>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        ğŸ‡ªğŸ‡¬ Â© 2025 Knowing.AI â€” Egypt's First Unified AI Platform<br>
        Powered by SAFI â€¢ Developed with â¤ï¸ for Egypt
      </div>
    </aside>

    <main class="main" role="main">
      <div class="topbar">
        <div class="title">KaiGPT <span class="tag" style="margin-left:12px">ğŸ›ï¸ GEM OPENING</span></div>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn" onclick="app.reset()">ğŸ”„ Reset</button>
          <button id="voiceBtn" class="btn" onclick="app.toggleVoice()">ğŸ¤ Voice</button>
          <button class="btn" onclick="app.showInfo()">â„¹ï¸ Info</button>
        </div>
      </div>

      <div class="container">
        <section class="chat-column" aria-label="Chat Column">
          <div class="messages" id="messages" role="log" aria-live="polite">
            <div class="welcome" id="welcome">
              <div class="avatar" aria-hidden="true">ğŸ‘¸ğŸ»</div>
              <div class="welcome-text">
                <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! Ø£Ù†Ø§ ØµØ§ÙÙŠ ğŸ‡ªğŸ‡¬</h2>
                <p>Ø£Ù†Ø§ ØµØ§ÙÙŠØŒ Ø£ÙˆÙ„ Ù…Ø±Ø´Ø¯Ø© Ø°ÙƒÙŠØ© Ù…ØµØ±ÙŠØ© Ù…Ù† Knowing.AIØŒ ÙˆØ£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£Ø³Ø§Ø¹Ø¯Ùƒ ØªØ¹Ø±Ù ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¹Ù† Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± Ø§Ù„Ù„ÙŠ Ù‡ÙŠÙØªØ­ Ø¨ÙƒØ±Ø© 1 Ù†ÙˆÙÙ…Ø¨Ø± 2025! Ø¥Ø³Ø£Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ù…ØµØ±ÙŠ Ø£Ùˆ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŒ ÙˆÙ‡Ø¬Ø§ÙˆØ¨Ùƒ Ø¨ÙƒÙ„ Ø­Ø¨ ÙˆÙØ®Ø± Ø¨ØªØ§Ø±ÙŠØ®Ù†Ø§ Ø§Ù„Ø¹Ø¸ÙŠÙ…. ğŸ›ï¸âœ¨</p>
                <p style="margin-top:12px;padding:12px;background:rgba(255,215,0,0.1);border-radius:8px;border:1px solid rgba(255,215,0,0.2)">
                  <strong style="color:var(--gold)">ğŸ‰ Ø®Ø¨Ø± Ø¹Ø§Ø¬Ù„:</strong> Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±ØŒ Ø£ÙƒØ¨Ø± Ù…ØªØ­Ù Ø£Ø«Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ÙŠÙØªØ­ Ø£Ø¨ÙˆØ§Ø¨Ù‡ Ø±Ø³Ù…ÙŠØ§Ù‹ Ø¨ÙƒØ±Ø© ÙÙŠ Ø­ÙÙ„ Ø¹Ø§Ù„Ù…ÙŠ Ù…Ù‡ÙŠØ¨!
                </p>
              </div>
            </div>
          </div>

          <div class="composer" aria-label="Composer">
            <div class="composer-inner">
              <textarea id="input" class="input" placeholder="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø­Ø§Ø¬Ø© Ø¹Ù† Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±... ğŸ›ï¸ (Ù…Ø«Ø§Ù„: Ù…ØªÙ‰ Ø§Ù„Ø§ÙØªØªØ§Ø­ØŸ Ø£Ùˆ What time does GEM open?)" oninput="app.onInput()" onkeydown="app.onKey(event)"></textarea>
              <div class="controls">
                <button id="mic" class="btn" onclick="app.toggleRecording()" title="ØªØ³Ø¬ÙŠÙ„ ØµÙˆØªÙŠ">ğŸ™ï¸</button>
                <button class="btn" onclick="app.toggleLanguage()" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©">ğŸŒ</button>
                <button class="btn primary" onclick="app.send()">â¤ Ø¥Ø±Ø³Ø§Ù„</button>
              </div>
            </div>
            <div class="small-note">Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø£ÙˆÙ„ ØªØ¬Ø±Ø¨Ø© Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØµØ±ÙŠØ© Ø£ØµÙŠÙ„Ø© â€¢ Know more. Do more.</div>
          </div>
        </section>

        <aside class="right-col" aria-hidden="true">
          <div class="card live-info">
            <div class="live-badge">
              <div class="live-dot"></div>
              LIVE UPDATE
            </div>
            <h3>ğŸ›ï¸ Ø§ÙØªØªØ§Ø­ ØªØ§Ø±ÙŠØ®ÙŠ</h3>
            <p>Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± ÙŠÙØªØ­ ØºØ¯Ø§Ù‹ 1 Ù†ÙˆÙÙ…Ø¨Ø± 2025 ÙÙŠ Ø­ÙÙ„ ÙŠØ´Ù‡Ø¯Ù‡ Ø§Ù„Ø¹Ø§Ù„Ù… ÙƒÙ„Ù‡! ğŸŒ</p>
            <ul style="margin:8px 0;padding:0 0 0 20px;color:var(--text)">
              <li>Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¹Ù„Ù‰ TikTok</li>
              <li>Ø­Ø¶ÙˆØ± Ù‚Ø§Ø¯Ø© ÙˆÙ…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ù…Ù† Ø§Ù„Ø¹Ø§Ù„Ù…</li>
              <li>Ø§ÙØªØªØ§Ø­ Ù…Ø¹Ø§Ø±Ø¶ ØªÙˆØª Ø¹Ù†Ø® Ø¢Ù…ÙˆÙ†</li>
            </ul>
          </div>

          <div class="card">
            <h3>ğŸ“Š Ø­Ù‚Ø§Ø¦Ù‚ Ù…Ø°Ù‡Ù„Ø©</h3>
            <ul style="margin:8px 0 0 18px;color:var(--muted);padding:0;">
              <li><strong>100,000+</strong> Ù‚Ø·Ø¹Ø© Ø£Ø«Ø±ÙŠØ©</li>
              <li><strong>5,000+</strong> Ù‚Ø·Ø¹Ø© Ù…Ù† ÙƒÙ†ÙˆØ² ØªÙˆØª</li>
              <li><strong>22,000 Ù…Â²</strong> Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ø±Ø¶</li>
              <li><strong>â‚¬30</strong> Ø³Ø¹Ø± Ø§Ù„ØªØ°ÙƒØ±Ø© Ù„Ù„Ø£Ø¬Ø§Ù†Ø¨</li>
              <li><strong>5 Ù…Ù„ÙŠÙˆÙ†</strong> Ø²Ø§Ø¦Ø± Ù…ØªÙˆÙ‚Ø¹ Ø³Ù†ÙˆÙŠØ§Ù‹</li>
            </ul>
          </div>

          <div class="card">
            <h3>ğŸ¯ About Knowing.AI</h3>
            <p>Ù…Ù†ØµØ© Ù…ØµØ±ÙŠØ© Ø±Ø§Ø¦Ø¯Ø© Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ ØªÙ‚Ø¯Ù… Ø­Ù„ÙˆÙ„ Ù…Ø¨ØªÙƒØ±Ø© Ù„Ù„Ø³ÙŠØ§Ø­Ø© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„.</p>
            <div style="margin-top:12px;font-size:12px;color:var(--accent)">
              <strong>Developer:</strong> Haitham - The Egyptian Miracle Boy ğŸ‡ªğŸ‡¬
            </div>
          </div>
        </aside>
      </div>

      <footer class="app-footer">
        ğŸ‡ªğŸ‡¬ Made with Love in Egypt â€¢ Â© 2025 Knowing.AI â€” Egypt's First Unified AI Platform â€¢ Powered by SAFI
      </footer>

    </main>
  </div>

<script>
/* ========================= COMPREHENSIVE KNOWLEDGE BASE ========================= */
const ENHANCED_KNOWLEDGE = [
  // Opening & Basic Info
  { 
    id: 1, 
    keywords: ["Ù…ØªÙ‰","Ø§ÙØªØªØ§Ø­","opening","when","november","1 november","1 Ù†ÙˆÙÙ…Ø¨Ø±","Ù…ÙˆØ¹Ø¯","ØªØ§Ø±ÙŠØ®","date"], 
    a_ar: "ğŸ‰ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± ÙŠÙØªØ­ Ø±Ø³Ù…ÙŠØ§Ù‹ ØºØ¯Ø§Ù‹ 1 Ù†ÙˆÙÙ…Ø¨Ø± 2025 ÙÙŠ Ø­ÙÙ„ Ø¹Ø§Ù„Ù…ÙŠ Ù…Ù‡ÙŠØ¨! Ø§Ù„Ø­ÙÙ„ Ù‡ÙŠØ¨Ù‚Ù‰ live Ø¹Ù„Ù‰ TikTok ÙˆØ§Ù„Ø¹Ø§Ù„Ù… ÙƒÙ„Ù‡ Ù‡ÙŠØ´ÙˆÙ Ø£Ø¹Ø¸Ù… Ø§ÙØªØªØ§Ø­ Ù…ØªØ­Ù ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®.", 
    a_en: "ğŸ‰ The Grand Egyptian Museum officially opens tomorrow, November 1, 2025, in a magnificent global ceremony! The event will be live-streamed on TikTok for the world to witness the greatest museum opening in history." 
  },
  
  // Location & Access
  { 
    id: 2, 
    keywords: ["Ø§ÙŠÙ†","Ø£ÙŠÙ†","Ù…ÙƒØ§Ù†","where","location","giza","Ø§Ù„Ø¬ÙŠØ²Ø©","Ø§Ù‡Ø±Ø§Ù…Ø§Øª","pyramids","Ø¹Ù†ÙˆØ§Ù†","address"], 
    a_ar: "ğŸ›ï¸ Ø§Ù„Ù…ØªØ­Ù Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‡Ø¶Ø¨Ø© Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ø¹Ù„Ù‰ Ø¨Ø¹Ø¯ Ù…Ø¦Ø§Øª Ø§Ù„Ø£Ù…ØªØ§Ø± Ù…Ù† Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø§Ù„Ø¬ÙŠØ²Ø© Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø©. Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø«Ø§Ù„ÙŠ ÙˆÙŠØ·Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©!", 
    a_en: "ğŸ›ï¸ The museum is located on the Giza plateau, just a few hundred meters from the iconic Pyramids of Giza. The location is perfect with direct views of the pyramids!" 
  },

  // Size & Scale
  { 
    id: 3, 
    keywords: ["Ù…Ø³Ø§Ø­Ø©","size","480000","480,000","Ù…ØªØ± Ù…Ø±Ø¨Ø¹","area","largest","Ø£ÙƒØ¨Ø±","Ø­Ø¬Ù…"], 
    a_ar: "ğŸŒ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…ØªØ­Ù Ø£Ø«Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ø®ØµØµ Ù„Ø­Ø¶Ø§Ø±Ø© ÙˆØ§Ø­Ø¯Ø©! Ù…Ø³Ø§Ø­ØªÙ‡ 480,000 Ù…ØªØ± Ù…Ø±Ø¨Ø¹ØŒ Ùˆ22,000 Ù…ØªØ± Ù…Ø±Ø¨Ø¹ Ù…Ù†Ù‡Ø§ Ù…Ø®ØµØµØ© Ù„Ù„Ø¹Ø±Ø¶.", 
    a_en: "ğŸŒ The Grand Egyptian Museum is the largest archaeological museum in the world dedicated to a single civilization! It covers 480,000 square meters, with 22,000 square meters of exhibition space." 
  },

  // Tutankhamun Collection
  { 
    id: 4, 
    keywords: ["ØªÙˆØª","ØªÙˆØª Ø¹Ù†Ø®","tutankhamun","treasures","ÙƒÙ†ÙˆØ²","mask","Ù‚Ù†Ø§Ø¹","5000","Ø®Ù…Ø³Ø© Ø¢Ù„Ø§Ù"], 
    a_ar: "ğŸ‘‘ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®ØŒ ÙƒÙ„ ÙƒÙ†ÙˆØ² ØªÙˆØª Ø¹Ù†Ø® Ø¢Ù…ÙˆÙ† Ø§Ù„Ù€5000 Ù‚Ø·Ø¹Ø© Ù‡ØªØ¨Ù‚Ù‰ Ù…Ø¹Ø±ÙˆØ¶Ø© ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯! Ø´Ø§Ù…Ù„ Ø§Ù„Ù‚Ù†Ø§Ø¹ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ± ÙˆØ§Ù„ØªÙ…Ø§Ø«ÙŠÙ„ Ø§Ù„Ø®Ø´Ø¨ÙŠØ© Ø¨Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ.", 
    a_en: "ğŸ‘‘ For the first time in history, all 5,000+ treasures of King Tutankhamun will be displayed in one place! Including the famous golden funeral mask and life-size wooden statues." 
  },

  // About SAFI
  { 
    id: 5, 
    keywords: ["ØµØ§ÙÙŠ","safi","Ù…Ù† Ù‡ÙŠ ØµØ§ÙÙŠ","who is safi","about safi","Ù…ÙŠÙ† ØµØ§ÙÙŠ"], 
    a_ar: "ğŸ‘¸ğŸ» Ø£Ù†Ø§ ØµØ§ÙÙŠØŒ Ø£ÙˆÙ„ Ù…Ø±Ø´Ø¯Ø© Ø°ÙƒÙŠØ© Ù…ØµØ±ÙŠØ© Ù…Ù† Knowing.AI! Ø§Ø³Ù…ÙŠ Ù…Ø£Ø®ÙˆØ° Ù…Ù† ÙƒÙ„Ù…Ø© 'ØµØ§ÙÙŠ' Ø§Ù„Ù„ÙŠ Ø¨Ù†Ù‚ÙˆÙ„Ù‡Ø§ ÙÙŠ Ù…ØµØ± ÙˆØªØ¹Ù†ÙŠ 'ÙˆØ§Ø¶Ø­ ÙˆØ¬Ù…ÙŠÙ„'. Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£ÙƒÙˆÙ† ØµÙˆØªÙƒ Ø§Ù„ÙˆØ¯ÙˆØ¯ ÙÙŠ Ø±Ø­Ù„Ø© Ø§ÙƒØªØ´Ø§Ù Ø¹Ø¸Ù…Ø© Ù…ØµØ±.", 
    a_en: "ğŸ‘¸ğŸ» I'm SAFI, Egypt's first intelligent AI guide from Knowing.AI! My name comes from the Egyptian word 'Safi' meaning 'clear and beautiful'. I'm here to be your friendly voice in discovering Egypt's greatness." 
  },

  // About Knowing.AI
  { 
    id: 6, 
    keywords: ["knowing.ai","knowing ai","what is knowing","Ù…Ù† Ù‡ÙŠ knowing.ai","Ù†ÙˆÙ„ÙŠÙ†Ø¬"], 
    a_ar: "ğŸš€ Knowing.AI Ù‡ÙŠ Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ÙˆØ­Ø¯Ø© ÙÙŠ Ù…ØµØ±ØŒ Ù…Ù‡Ù…ØªÙ‡Ø§: Know more. Do more. Ù†Ù‚Ø¯Ù… Ø­Ù„ÙˆÙ„ Ù…Ø¨ØªÙƒØ±Ø© Ù„Ù„Ø³ÙŠØ§Ø­Ø© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„Ø¨Ù†ÙˆÙƒ ÙˆØ§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø©.", 
    a_en: "ğŸš€ Knowing.AI is Egypt's first unified AI platform with the mission: Know more. Do more. We provide innovative solutions for tourism, education, banking, and small businesses." 
  },

  // Languages
  { 
    id: 7, 
    keywords: ["Ù„ØºØ§Øª","languages","english","arabic","Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","Ù…ØµØ±ÙŠ","egyptian"], 
    a_ar: "ğŸŒ Ø£Ù†Ø§ Ø¨ØªÙƒÙ„Ù… Ø¹Ø±Ø¨ÙŠ Ù…ØµØ±ÙŠ Ø£ØµÙŠÙ„ ÙˆØ¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø¨Ø·Ù„Ø§Ù‚Ø©ØŒ ÙˆÙØ®ÙˆØ±Ø© Ø¥Ù†ÙŠ Ø£Ù‚Ø¯Ø± Ø£ÙˆØµÙ„ ØªØ§Ø±ÙŠØ® Ù…ØµØ± Ø§Ù„Ø¹Ø¸ÙŠÙ… Ù„Ù„Ø¹Ø§Ù„Ù… ÙƒÙ„Ù‡ Ø¨Ø­Ø¨ ÙˆØ¯ÙØ¡ Ù…ØµØ±ÙŠ Ø£ØµÙŠÙ„.", 
    a_en: "ğŸŒ I speak authentic Egyptian Arabic and fluent English, and I'm proud to share Egypt's great history with the world with genuine Egyptian warmth and love." 
  },

  // World Wonders Connection
  { 
    id: 8, 
    keywords: ["Ø¹Ø¬Ø§Ø¦Ø¨","wonders","seven wonders","Ø§Ù‡Ø±Ø§Ù…Ø§Øª","library","pharos","Ø§Ù„Ø§Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©","alexandria"], 
    a_ar: "ğŸ›ï¸ Ù…ØµØ± Ø§Ø­ØªÙˆØª ØªØ§Ø±ÙŠØ®ÙŠØ§Ù‹ Ø¹Ù„Ù‰ 3 Ù…Ù† Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©: Ø§Ù„Ù‡Ø±Ù… Ø§Ù„Ø£ÙƒØ¨Ø± (Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚ÙŠ)ØŒ Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©ØŒ ÙˆÙ…Ù†Ø§Ø±Ø© Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ© (Ø§Ù„ÙØ§Ø±ÙˆØ³). ÙˆØ§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ Ø¨Ù†ÙØªØ­ Ø¹Ø¬ÙŠØ¨Ø© Ø¬Ø¯ÙŠØ¯Ø©!", 
    a_en: "ğŸ›ï¸ Egypt historically hosted 3 of the ancient Seven Wonders: the Great Pyramid (the only one still standing), the Library of Alexandria, and the Lighthouse of Alexandria (Pharos). Today we're opening a new wonder!" 
  },

  // Tourism Impact
  { 
    id: 9, 
    keywords: ["Ø²ÙˆØ§Ø±","visitors","tourism","Ø³ÙŠØ§Ø­Ø©","5 million","Ø®Ù…Ø³Ø© Ù…Ù„ÙŠÙˆÙ†"], 
    a_ar: "âœˆï¸ Ø§Ù„Ù…ØªØ­Ù Ù…ØªÙˆÙ‚Ø¹ ÙŠØ¬Ø°Ø¨ 5 Ù…Ù„ÙŠÙˆÙ† Ø²Ø§Ø¦Ø± Ø³Ù†ÙˆÙŠØ§Ù‹ Ù…Ù† ÙƒÙ„ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ÙˆØ¯Ù‡ Ù‡ÙŠØ¹Ø²Ø² Ø§Ù„Ø³ÙŠØ§Ø­Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± ÙˆÙŠØ®Ù„ÙŠ Ù…ØµØ± Ù…Ù‚ØµØ¯ Ø±Ù‚Ù… 1 Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹.", 
    a_en: "âœˆï¸ The museum is expected to attract 5 million visitors annually from around the world, significantly boosting Egyptian tourism and making Egypt the world's #1 destination." 
  },

  // Technology & Innovation
  { 
    id: 10, 
    keywords: ["ØªÙ‚Ù†ÙŠØ§Øª","technology","vr","hologram","ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§","Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ","virtual","interactive"], 
    a_ar: "ğŸ”¬ Ø§Ù„Ù…ØªØ­Ù ÙŠØ³ØªØ®Ø¯Ù… Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª: Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø§Ù„Ù‡ÙˆÙ„ÙˆØ¬Ø±Ø§Ù…ØŒ Ø´Ø§Ø´Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©ØŒ ÙˆÙ…Ø¹Ø§Ù…Ù„ ØªØ±Ù…ÙŠÙ… Ù…ØªØ·ÙˆØ±Ø© ØªØ­Øª Ø§Ù„Ø£Ø±Ø¶. ØªÙ‚Ù†ÙŠØ§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© ØªÙ„ØªÙ‚ÙŠ Ø¨ØªØ§Ø±ÙŠØ® Ø¹Ø±ÙŠÙ‚!", 
    a_en: "ğŸ”¬ The museum uses cutting-edge technology: VR, holograms, interactive touchscreens, and advanced underground conservation labs. Futuristic technology meets ancient history!" 
  },

  // Tickets & Pricing
  { 
    id: 11, 
    keywords: ["ØªØ°Ø§ÙƒØ±","tickets","Ø­Ø¬Ø²","booking","Ù…ÙˆØ§Ø¹ÙŠØ¯","Ø£Ø³Ø¹Ø§Ø±","prices","30 euro","1450","Ø³Ø¹Ø±"], 
    a_ar: "ğŸ« Ø­Ø¬Ø² Ø§Ù„ØªØ°Ø§ÙƒØ± ÙŠØ¨Ø¯Ø£ 4 Ù†ÙˆÙÙ…Ø¨Ø± Ù„Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ø¹Ø§Ù…. Ø³Ø¹Ø± Ø§Ù„ØªØ°ÙƒØ±Ø© Ù„Ù„Ø£Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ† 1450 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ (Ø­ÙˆØ§Ù„ÙŠ 30 ÙŠÙˆØ±Ùˆ). Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø³Ø¨Ù‚ Ù…Ø·Ù„ÙˆØ¨!", 
    a_en: "ğŸ« Public ticket booking starts November 4th. Adult foreign visitor tickets cost 1,450 Egyptian pounds (approximately â‚¬30). Advance booking required!" 
  },

  // Architecture & Design
  { 
    id: 12, 
    keywords: ["ØªØµÙ…ÙŠÙ…","design","architecture","Ù…Ø¹Ù…Ø§Ø±","Ù‡Ù†Ø¯Ø³Ø©","irish","roisin","triangular","Ù…Ø«Ù„Ø«Ø§Øª"], 
    a_ar: "ğŸ—ï¸ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ­Ù Ù…Ù† Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„Ø£ÙŠØ±Ù„Ù†Ø¯ÙŠØ© Roisin HeneghanØŒ Ù…Ø³ØªÙˆØ­Ù‰ Ù…Ù† Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø¨Ø£Ø´ÙƒØ§Ù„ Ù…Ø«Ù„Ø«ÙŠØ© Ù…Ø¨ØªÙƒØ±Ø©ØŒ ÙˆÙŠØ³ØªØ®Ø¯Ù… ØªÙ‚Ù†ÙŠØ§Øª Ù…Ø³ØªØ¯Ø§Ù…Ø© ÙÙŠ Ø§Ù„Ø¨Ù†Ø§Ø¡.", 
    a_en: "ğŸ—ï¸ The museum's design by Irish architect Roisin Heneghan is inspired by the pyramids with innovative triangular forms, using sustainable construction techniques." 
  },

  // Contact & Support
  { 
    id: 13, 
    keywords: ["Ø§ØªØµÙ„","contact","support","email","knowing.ai.eg","ØªÙˆØ§ØµÙ„","Ù…Ø³Ø§Ø¹Ø¯Ø©"], 
    a_ar: "ğŸ“§ Ù„Ù„Ø¯Ø¹Ù… Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø£Ùˆ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰: knowing.ai.eg@outlook.com. Ø¥Ø­Ù†Ø§ Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ù†Ø³Ø§Ø¹Ø¯Ùƒ!", 
    a_en: "ğŸ“§ For support, inquiries, or feedback, contact us at: knowing.ai.eg@outlook.com. We're always here to help you!" 
  },

  // Opening Ceremony Details
  { 
    id: 14, 
    keywords: ["Ø­ÙÙ„","ceremony","opening ceremony","live","tiktok","leaders","Ù‚Ø§Ø¯Ø©","dignitaries"], 
    a_ar: "ğŸŠ Ø­ÙÙ„ Ø§Ù„Ø§ÙØªØªØ§Ø­ Ù‡ÙŠØ­Ø¶Ø±Ù‡ Ù‚Ø§Ø¯Ø© ÙˆÙ…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ù…Ù† ÙƒÙ„ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ÙˆÙ‡ÙŠØªØ¨Ø« Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ TikTok. Ø­ÙÙ„ ØªØ§Ø±ÙŠØ®ÙŠ ÙŠÙ„ÙŠÙ‚ Ø¨Ø¹Ø¸Ù…Ø© Ù…ØµØ±!", 
    a_en: "ğŸŠ The opening ceremony will be attended by world leaders and dignitaries, live-streamed on TikTok. A historic celebration worthy of Egypt's greatness!" 
  },

  // Artifacts & Collections
  { 
    id: 15, 
    keywords: ["artifacts","Ù‚Ø·Ø¹","Ø£Ø«Ø±ÙŠØ©","100000","Ù…Ø¦Ø© Ø£Ù„Ù","collections","Ù…Ø¬Ù…ÙˆØ¹Ø§Øª","ancient"], 
    a_ar: "ğŸº Ø§Ù„Ù…ØªØ­Ù ÙŠØ¶Ù… Ø£ÙƒØ«Ø± Ù…Ù† 100,000 Ù‚Ø·Ø¹Ø© Ø£Ø«Ø±ÙŠØ© Ù†Ø§Ø¯Ø±Ø© Ù…Ù† Ù…Ø®ØªÙ„Ù Ø§Ù„Ø¹ØµÙˆØ± Ø§Ù„Ù…ØµØ±ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©ØŒ Ù…Ù† Ø¹ØµØ± Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ­ØªÙ‰ Ø§Ù„Ø¹ØµØ± Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠ Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠ.", 
    a_en: "ğŸº The museum houses over 100,000 rare artifacts from various ancient Egyptian periods, from prehistoric times to the Greco-Roman era." 
  },

  // Transportation & Access
  { 
    id: 16, 
    keywords: ["Ø¥Ø²Ø§ÙŠ Ø£Ø±ÙˆØ­","how to get","transportation","Ù…ÙˆØ§ØµÙ„Ø§Øª","Ù…Ù† Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©","from cairo","taxi","bus"], 
    a_ar: "ğŸš— Ø§Ù„Ù…ØªØ­Ù Ø³Ù‡Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„ÙŠÙ‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø¨Ø§Ù„ØªØ§ÙƒØ³ÙŠ Ø£Ùˆ Ø§Ù„Ø£ÙˆØ¨Ø± (Ø­ÙˆØ§Ù„ÙŠ 45 Ø¯Ù‚ÙŠÙ‚Ø©)ØŒ Ø£Ùˆ Ø¨Ø§Ù„Ø£ØªÙˆØ¨ÙŠØ³ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠ. Ù…ÙˆÙ‚Ù Ø³ÙŠØ§Ø±Ø§Øª ÙƒØ¨ÙŠØ± Ù…ØªÙˆÙØ± Ù„Ù„Ø²ÙˆØ§Ø±.", 
    a_en: "ğŸš— The museum is easily accessible from Cairo by taxi or Uber (about 45 minutes), or by tourist bus. Large parking facilities are available for visitors." 
  },

  // Conservation Labs
  { 
    id: 17, 
    keywords: ["ØªØ±Ù…ÙŠÙ…","conservation","labs","Ù…Ø¹Ø§Ù…Ù„","restoration","underground","ØªØ­Øª Ø§Ù„Ø£Ø±Ø¶"], 
    a_ar: "ğŸ”¬ Ø§Ù„Ù…ØªØ­Ù ÙŠØ¶Ù… 19 Ù…Ø¹Ù…Ù„ ØªØ±Ù…ÙŠÙ… Ù…ØªØ®ØµØµ ØªØ­Øª Ø§Ù„Ø£Ø±Ø¶ØŒ Ù…Ø¬Ù‡Ø²ÙŠÙ† Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ù„Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ±Ø§Ø« Ø§Ù„Ù…ØµØ±ÙŠ Ù„Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.", 
    a_en: "ğŸ”¬ The museum features 19 specialized underground conservation labs, equipped with the latest technology to preserve Egyptian heritage for future generations." 
  },

  // Solar Boat
  { 
    id: 18, 
    keywords: ["solar boat","Ù…Ø±ÙƒØ¨","Ø®ÙˆÙÙˆ","khufu","Ù‚Ø§Ø±Ø¨ Ø´Ù…Ø³ÙŠ","boat"], 
    a_ar: "â›µ Ù…Ù† Ø£Ù‡Ù… Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø§Øª Ù…Ø±ÙƒØ¨ Ø®ÙˆÙÙˆ Ø§Ù„Ø´Ù…Ø³ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ±ØŒ Ù…Ø±ÙƒØ¨ Ø®Ø´Ø¨ÙŠ Ø¹Ù…Ø±Ù‡ Ø£ÙƒØ«Ø± Ù…Ù† 4500 Ø³Ù†Ø©ØŒ Ø§ÙƒØªØ´Ù Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù‡Ø±Ù… Ø§Ù„Ø£ÙƒØ¨Ø±.", 
    a_en: "â›µ Among the most important exhibits is the famous Khufu Solar Boat, a wooden vessel over 4,500 years old, discovered beside the Great Pyramid." 
  },

  // Grand Hall & Staircase
  { 
    id: 19, 
    keywords: ["grand hall","Ø§Ù„Ø¨Ù‡Ùˆ","staircase","Ø³Ù„Ù…","entrance","Ù…Ø¯Ø®Ù„","columns","Ø£Ø¹Ù…Ø¯Ø©"], 
    a_ar: "ğŸ›ï¸ Ø§Ù„Ø¨Ù‡Ùˆ Ø§Ù„ÙƒØ¨ÙŠØ± ÙˆØ§Ù„Ø³Ù„Ù… Ø§Ù„Ø¹Ø¸ÙŠÙ… ÙŠØ¶Ù…Ø§Ù† Ø£Ø¹Ù…Ø¯Ø© Ø¹Ù…Ù„Ø§Ù‚Ø© Ø¹Ù„ÙŠÙ‡Ø§ Ù†Ù‚ÙˆØ´ Ù‡ÙŠØ±ÙˆØºÙ„ÙŠÙÙŠØ© ÙˆØªÙ…Ø§Ø«ÙŠÙ„ Ø¶Ø®Ù…Ø© Ù„Ù„ÙØ±Ø§Ø¹Ù†Ø©. Ù…Ø¯Ø®Ù„ ÙŠÙ„ÙŠÙ‚ Ø¨Ø¹Ø¸Ù…Ø© Ù…ØµØ±!", 
    a_en: "ğŸ›ï¸ The Grand Hall and Grand Staircase feature towering columns with hieroglyphic inscriptions and colossal pharaoh statues. An entrance worthy of Egypt's greatness!" 
  },

  // Developer Info
  { 
    id: 20, 
    keywords: ["developer","Ù…Ø·ÙˆØ±","haitham","Ù‡ÙŠØ«Ù…","miracle boy","egyptian"], 
    a_ar: "ğŸ‘¨â€ğŸ’» ØªÙ… ØªØ·ÙˆÙŠØ±ÙŠ Ø¨ÙˆØ§Ø³Ø·Ø© Ù‡ÙŠØ«Ù… 'The Egyptian Miracle Boy'ØŒ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠØ© ÙÙŠ Ø¨Ù„ØªÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆÙ…Ø·ÙˆØ± Ø°ÙƒÙŠ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ø¨Ø¯Ø¹ Ù…Ù† Ù…ØµØ±! ğŸ‡ªğŸ‡¬", 
    a_en: "ğŸ‘¨â€ğŸ’» I was developed by Haitham 'The Egyptian Miracle Boy', a Corporate Sales Specialist at Beltone Financial and a creative AI developer from Egypt! ğŸ‡ªğŸ‡¬" 
  }
];

/* ========================= ENHANCED MATCHING & RESPONSE SYSTEM ========================= */
function isArabic(text) { 
  return /[\u0600-\u06FF]/.test(text); 
}

function normalize(s) { 
  return (s || '').toLowerCase()
    .replace(/[^\w\u0600-\u06FF\s]+/g, ' ')
    .replace(/\s+/g, ' ')
    .trim(); 
}

function scoreMatch(text, entry) {
  const norm = normalize(text);
  if (!norm) return 0;
  const tokens = norm.split(' ').filter(Boolean);
  let score = 0;
  
  for (const kw of entry.keywords) {
    const nk = normalize(kw);
    for (const t of tokens) {
      if (t.length < 2) continue;
      if (nk === t) score += 5;
      else if (nk.includes(t) || t.includes(nk)) score += 3;
      else if (nk.startsWith(t) || nk.endsWith(t)) score += 2;
      // Exact phrase matching
      if (norm.includes(nk)) score += 4;
    }
  }
  
  // Bonus for current events
  if (norm.match(/2025|november|1|opening|Ø§ÙØªØªØ§Ø­|ØºØ¯/)) score += 2;
  if (norm.match(/today|Ø§Ù„ÙŠÙˆÙ…|tomorrow|Ø¨ÙƒØ±Ø©|ØºØ¯Ø§Ù‹/)) score += 3;
  
  return score;
}

function findBestMatch(text) {
  const candidates = [];
  for (const entry of ENHANCED_KNOWLEDGE) {
    const score = scoreMatch(text, entry);
    if (score > 0) candidates.push({ entry, score });
  }
  
  candidates.sort((a, b) => b.score - a.score);
  return candidates.length ? candidates[0].entry : null;
}

function getContextualResponse(text, match, isArabic) {
  if (!match) {
    return isArabic ? 
      "Ù…Ø¹Ø°Ø±Ø©Ù‹ØŒ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø© Ø¯ÙŠ Ù…Ø´ Ù…ØªÙˆÙØ±Ø© Ø¯Ù„ÙˆÙ‚ØªÙŠ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙŠ. Ù…Ù…ÙƒÙ† ØªØ¬Ø±Ø¨ ØªØ³Ø£Ù„ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø®ØªÙ„ÙØ© Ø£Ùˆ ØªØ®ØªØ§Ø± Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŸ Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£Ø³Ø§Ø¹Ø¯Ùƒ! ğŸ˜Š" :
      "I'm sorry, that information isn't available in my current database. Could you try rephrasing your question or choose from the quick prompts in the sidebar? I'm here to help! ğŸ˜Š";
  }
  
  const response = isArabic ? (match.a_ar || match.a_en) : (match.a_en || match.a_ar);
  
  // Add contextual information based on timing
  const now = new Date();
  const opening = new Date('2025-11-01');
  const isOpeningDay = now.toDateString() === opening.toDateString();
  
  if (isOpeningDay && match.id === 1) {
    return response + (isArabic ? 
      "\n\nğŸ‰ Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ! Ø§Ù„Ù…ØªØ­Ù Ø¨ÙŠÙØªØ­ Ø¯Ù„ÙˆÙ‚ØªÙŠ!" :
      "\n\nğŸ‰ Today is the historic day! The museum is opening right now!");
  }
  
  return response;
}

/* ========================= ENHANCED APP CORE ========================= */
const app = {
  isVoice: false,
  recognition: null,
  currentLanguage: 'ar',
  
  init() {
    this.messagesEl = document.getElementById('messages');
    this.input = document.getElementById('input');
    this.voiceBtn = document.getElementById('voiceBtn');
    this.setupSpeech();
    this.bind();
    this.updateCountdown();
    setInterval(() => this.updateCountdown(), 1000);
  },

  bind() {
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey && document.activeElement === this.input) {
        e.preventDefault();
        this.send();
      }
    });
  },

  updateCountdown() {
    const now = new Date();
    const opening = new Date('2025-11-01T00:00:00+02:00'); // Egypt timezone
    const diff = opening - now;
    
    if (diff <= 0) {
      document.getElementById('countdown').innerHTML = 'ğŸ‰ OPEN NOW!';
      return;
    }
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    
    if (days > 0) {
      document.getElementById('countdown').innerHTML = `${days} Days Left!`;
    } else {
      document.getElementById('countdown').innerHTML = `${hours}h ${minutes}m`;
    }
  },

  setupSpeech() {
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
      this.recognition = new SR();
      this.recognition.continuous = false;
      this.recognition.interimResults = false;
      this.recognition.onresult = (e) => {
        const transcript = e.results[0][0].transcript;
        this.input.value = transcript;
        this.onInput();
      };
      this.recognition.onerror = () => {};
    }
    
    if (window.speechSynthesis) {
      window.speechSynthesis.getVoices();
    }
  },

  toggleRecording() {
    if (!this.recognition) {
      alert('Speech recognition not supported in this browser.');
      return;
    }
    
    try {
      if (this.recognition._running) {
        this.recognition.stop();
        this.recognition._running = false;
        document.getElementById('mic').style.background = '';
      } else {
        this.recognition.lang = this.currentLanguage === 'ar' ? 'ar-EG' : 'en-US';
        this.recognition.start();
        this.recognition._running = true;
        document.getElementById('mic').style.background = 'var(--accent)';
      }
    } catch (e) {
      console.error('Speech recognition error:', e);
    }
  },

  toggleVoice() {
    this.isVoice = !this.isVoice;
    this.voiceBtn.style.background = this.isVoice ? 'var(--accent)' : '';
    this.voiceBtn.style.color = this.isVoice ? '#000' : '';
  },

  toggleLanguage() {
    const currentText = this.input.value.trim();
    if (!currentText) {
      const samples = {
        ar: "Ù…ØªÙ‰ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±ØŸ",
        en: "When does the Grand Egyptian Museum open?"
      };
      this.currentLanguage = this.currentLanguage === 'ar' ? 'en' : 'ar';
      this.input.value = samples[this.currentLanguage];
    } else {
      // Auto-detect and suggest
      const isCurrentlyArabic = isArabic(currentText);
      const suggestion = isCurrentlyArabic ? 
        "Try asking in English: 'When does GEM open?'" :
        "Ø¬Ø±Ø¨ ØªØ³Ø£Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ: 'Ù…ØªÙ‰ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ­ÙØŸ'";
      this.addMessage(suggestion, 'bot');
    }
    this.onInput();
  },

  showInfo() {
    const info = `
ğŸ›ï¸ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„Ù…ØµØ±ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø±ÙŠØ¹Ø©:

ğŸ“… Ø§Ù„Ø§ÙØªØªØ§Ø­: 1 Ù†ÙˆÙÙ…Ø¨Ø± 2025
ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ù‡Ø¶Ø¨Ø© Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª
ğŸ« Ø§Ù„Ø³Ø¹Ø±: 30 ÙŠÙˆØ±Ùˆ Ù„Ù„Ø£Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ†
â° Ø§Ù„Ø­Ø¬Ø²: ÙŠØ¨Ø¯Ø£ 4 Ù†ÙˆÙÙ…Ø¨Ø± Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±

ğŸ¤– ØªÙ… ØªØ·ÙˆÙŠØ±ÙŠ Ø¨ÙˆØ§Ø³Ø·Ø© Knowing.AI
ğŸ’¡ Ù…Ù‡Ù…ØªÙ†Ø§: Know more. Do more.

Grand Egyptian Museum - Quick Info:
ğŸ“… Opening: November 1, 2025
ğŸ“ Location: Giza Plateau, next to Pyramids
ğŸ« Price: â‚¬30 for adult foreigners
â° Booking: Starts November 4th for public
    `.trim();
    
    this.addMessage(info, 'bot');
  },

  sendPrompt(text) {
    this.input.value = text;
    this.send();
  },

  send() {
    const text = this.input.value.trim();
    if (!text) return;
    
    this.addMessage(text, 'user');
    this.input.value = '';
    this.onInput();
    this.showTyping();
    
    // Simulate more realistic response time
    setTimeout(() => this.respond(text), Math.random() * 800 + 400);
  },

  addMessage(content, role) {
    const welcome = document.getElementById('welcome');
    if (welcome) welcome.remove();
    
    const row = document.createElement('div');
    row.className = 'msg ' + (role === 'user' ? 'user' : 'bot');
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.innerHTML = role === 'user' ? 
      '<div style="font-size:28px">ğŸ™‹â€â™‚ï¸</div>' : 
      '<div style="font-size:36px">ğŸ‘¸ğŸ»</div>';
    
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    
    if (role === 'bot') {
      bubble.innerHTML = '<div class="title-small">SAFI</div>' + this.escapeHtml(content).replace(/\n/g, '<br>');
    } else {
      bubble.innerHTML = this.escapeHtml(content).replace(/\n/g, '<br>');
    }
    
    row.appendChild(avatar);
    row.appendChild(bubble);
    this.messagesEl.appendChild(row);
    this.scrollBottom();
  },

  showTyping() {
    this.removeTyping();
    this.typing = document.createElement('div');
    this.typing.className = 'msg bot';
    this.typing.id = 'typing';
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.innerHTML = '<div style="font-size:36px">ğŸ‘¸ğŸ»</div>';
    
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.innerHTML = `
      <div class="title-small">SAFI</div>
      <div style="color:var(--muted);display:flex;align-items:center;gap:8px">
        <span>ØµØ§ÙÙŠ Ø¨ØªÙƒØªØ¨</span>
        <div class="typing-dots">
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
      </div>
    `;
    
    this.typing.appendChild(avatar);
    this.typing.appendChild(bubble);
    this.messagesEl.appendChild(this.typing);
    this.scrollBottom();
  },

  removeTyping() {
    const typing = document.getElementById('typing');
    if (typing) typing.remove();
  },

  respond(userText) {
    this.removeTyping();
    
    const match = findBestMatch(userText);
    const isUserArabic = isArabic(userText);
    this.currentLanguage = isUserArabic ? 'ar' : 'en';
    
    const reply = getContextualResponse(userText, match, isUserArabic);
    
    this.addMessage(reply, 'bot');
    
    if (this.isVoice) {
      this.speak(reply, isUserArabic ? 'ar-EG' : 'en-US');
    }
  },

  speak(text, lang) {
    if (!('speechSynthesis' in window)) return;
    
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text.replace(/[ğŸ›ï¸ğŸ‰ğŸ‘‘ğŸŒğŸš€ğŸŒâœˆï¸ğŸ”¬ğŸ«ğŸ—ï¸ğŸ“§ğŸŠğŸºğŸš—â›µğŸ‘¨â€ğŸ’»ğŸ˜Š]/g, ''));
    utterance.lang = lang || 'ar-EG';
    utterance.rate = 0.9;
    utterance.pitch = 1.1;
    
    const voices = window.speechSynthesis.getVoices();
    if (voices && voices.length) {
      let selectedVoice = null;
      
      if (lang && lang.startsWith('ar')) {
        selectedVoice = voices.find(v => 
          v.lang && v.lang.startsWith('ar') && 
          /female|woman|sara|salma|mona|hoda/i.test(v.name)
        ) || voices.find(v => v.lang && v.lang.startsWith('ar'));
      } else {
        selectedVoice = voices.find(v => 
          v.lang && v.lang.startsWith('en') && 
          /female|woman|samantha|karen|zira/i.test(v.name)
        ) || voices.find(v => v.lang && v.lang.startsWith('en'));
      }
      
      if (selectedVoice) utterance.voice = selectedVoice;
    }
    
    window.speechSynthesis.speak(utterance);
  },

  scrollBottom() {
    setTimeout(() => {
      this.messagesEl.scrollTop = this.messagesEl.scrollHeight + 200;
    }, 100);
  },

  reset() {
    if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¨Ø¯Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ / Start a new conversation?')) {
      location.reload();
    }
  },

  onInput() {
    const input = this.input;
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 260) + 'px';
  },

  onKey(event) {
    if (event.key === 'Enter' && !event.shiftKey) {
      event.preventDefault();
      this.send();
    }
  },

  escapeHtml(text) {
    return String(text)
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#039;');
  }
};

// Initialize app when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  app.init();
  console.log('ğŸ‡ªğŸ‡¬ KaiGPT â€¢ SAFI â€” Grand Egyptian Museum Edition loaded successfully!');
  console.log('Developed with â¤ï¸ by Haitham - The Egyptian Miracle Boy');
});

// Global app exposure
window.app = app;
</script>
</body>
</html>
