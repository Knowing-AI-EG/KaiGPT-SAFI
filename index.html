<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>KaiGPT ‚Ä¢ SAFI ‚Äî Knowing.AI (GEM Opening Edition)</title>
<meta name="description" content="KaiGPT powered by SAFI ‚Äî Egypt's First AI Guide for the Grand Egyptian Museum. The world's largest archaeological museum opens November 1, 2025!"/>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' fill='%23000000'/%3E%3Ccircle cx='32' cy='32' r='22' fill='none' stroke='%2388d6ce' stroke-width='2.5'/%3E%3C/svg%3E">
<style>
  :root{
    --bg:#070707;
    --panel:#0e0e0f;
    --muted:#9aa3a8;
    --text:#eef2f3;
    --accent:#00b7a9;
    --gold:#FFD700;
    --egyptian-blue:#1034A6;
    --glass: rgba(255,255,255,0.02);
    --radius:12px;
    --max-width:980px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Roboto, "Cairo", system-ui, -apple-system;background:linear-gradient(180deg,var(--bg),#050505);color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:var(--accent);text-decoration:none}

  /* Enhanced animations */
  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(0,183,169,0.3); }
    50% { box-shadow: 0 0 40px rgba(0,183,169,0.6); }
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
  @keyframes slideIn {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  /* layout */
  .root{display:flex;min-height:100vh;padding:18px;gap:18px}
  .sidebar{
    width:340px;background:linear-gradient(180deg,var(--panel),#0b0b0b);border-radius:var(--radius);
    padding:20px;display:flex;flex-direction:column;gap:16px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 8px 30px rgba(0,0,0,0.6)
  }

  .brand{display:flex;align-items:center;gap:12px}
  .logo{
    width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,#111,#141414);
    display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,0.03); 
    font-weight:800;color:var(--accent); font-size:18px;
    position:relative;overflow:hidden;
  }
  .logo::before{
    content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
    background:conic-gradient(transparent, rgba(0,183,169,0.1), transparent);
    animation:spin 3s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  
  .brand h1{margin:0;font-size:19px;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .brand .sub{color:var(--muted);font-size:13px;margin-top:2px}

  .slogan{font-weight:700;color:var(--accent);margin-top:8px;font-size:15px}
  .powered{color:var(--muted);font-size:12px;margin-top:12px}

  .countdown{
    background:linear-gradient(135deg, var(--egyptian-blue), var(--accent));
    padding:16px;border-radius:12px;text-align:center;margin:12px 0;
    animation:glow 2s ease-in-out infinite;
  }
  .countdown-text{font-weight:800;color:white;font-size:14px;margin-bottom:8px}
  .countdown-time{font-size:20px;font-weight:900;color:var(--gold);text-shadow:0 0 10px rgba(255,215,0,0.5)}

  .stats{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:12px 0}
  .stat{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;text-align:center;border:1px solid rgba(255,255,255,0.03)}
  .stat-number{font-size:18px;font-weight:800;color:var(--gold)}
  .stat-label{font-size:11px;color:var(--muted);margin-top:4px}

  .quick{display:flex;flex-direction:column;gap:10px}
  .quick button{background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);padding:12px;border-radius:10px;text-align:right;cursor:pointer;transition:all 0.3s ease}
  .quick button:hover{color:var(--text);background:rgba(255,255,255,0.02);border-color:var(--accent);transform:translateX(-3px)}

  .sidebar .footer{margin-top:auto;color:var(--muted);font-size:12px;text-align:center;padding:12px 0;border-top:1px solid rgba(255,255,255,0.03)}

  /* main */
  .main{flex:1;display:flex;flex-direction:column;gap:12px}
  .topbar{display:flex;align-items:center;justify-content:space-between;padding:6px 12px}
  .title{font-size:22px;font-weight:800;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .tag{background:var(--glass);padding:8px 12px;border-radius:10px;color:var(--gold);font-weight:700;border:1px solid rgba(255,215,0,0.2)}

  .container{flex:1;display:flex;gap:18px;align-items:stretch}
  .chat-column{flex:1;max-width:var(--max-width);margin:0 auto;display:flex;flex-direction:column;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)}
  .messages{flex:1;padding:28px;overflow:auto;display:flex;flex-direction:column;gap:18px;min-height:420px}
  
  .welcome{display:flex;gap:16px;align-items:flex-start;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);animation:slideIn 0.6s ease-out}
  .avatar{width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;background:linear-gradient(135deg,#151515,#0f0f0f);border:3px solid rgba(255,215,0,0.2);position:relative}
  .avatar::after{content:'';position:absolute;inset:-3px;border-radius:50%;background:conic-gradient(var(--gold), var(--accent), var(--gold));z-index:-1;animation:spin 4s linear infinite}
  
  .welcome-text h2{margin:0 0 8px 0;font-size:24px;background:linear-gradient(135deg, var(--accent), var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .welcome-text p{margin:0;color:var(--muted);line-height:1.6;max-width:720px}

  .msg{display:flex;gap:12px;align-items:flex-start;animation:slideIn 0.4s ease-out}
  .msg.user{flex-direction:row-reverse;justify-content:flex-end}
  .bubble{padding:16px 18px;border-radius:12px;max-width:78%;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;position:relative}
  .msg.user .bubble{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));color:var(--text);border:1px solid rgba(255,255,255,0.02)}
  .msg.bot .bubble{background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(255,255,255,0.01));color:var(--text);border:1px solid rgba(0,0,0,0.18);box-shadow:0 6px 18px rgba(2,4,6,0.6)}
  .bubble .title-small{font-weight:700;color:var(--accent);font-size:14px;margin-bottom:8px;display:flex;align-items:center;gap:8px}
  .bubble .title-small::before{content:'üë∏üèª';font-size:16px}

  .composer{padding:18px;border-top:1px solid rgba(255,255,255,0.02);background:linear-gradient(180deg, rgba(255,255,255,0.005), transparent)}
  .composer-inner{display:flex;gap:12px;align-items:flex-end;max-width:var(--max-width);margin:0 auto}
  textarea.input{flex:1;min-height:56px;max-height:260px;resize:none;border-radius:12px;padding:16px;background:var(--panel);border:1px solid rgba(255,255,255,0.02);color:var(--text);font-size:16px;outline:none;font-family:inherit;transition:border-color 0.3s ease}
  textarea.input:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,183,169,0.1)}
  
  .controls{display:flex;gap:8px;align-items:center}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text);padding:12px 14px;border-radius:10px;cursor:pointer;transition:all 0.3s ease}
  .btn:hover{background:rgba(255,255,255,0.02);border-color:var(--accent)}
  .btn.primary{background:linear-gradient(90deg,var(--accent),#009888);color:#021;border:none;font-weight:800;box-shadow:0 8px 20px rgba(0,183,169,0.08);transform:scale(1)}
  .btn.primary:hover{transform:scale(1.05);box-shadow:0 12px 30px rgba(0,183,169,0.15)}

  .small-note{color:var(--muted);font-size:13px;text-align:center;margin-top:10px}

  .right-col{width:340px;display:flex;flex-direction:column;gap:12px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);color:var(--muted)}
  .card h3{margin:0 0 10px 0;color:var(--text);font-size:16px}

  .live-info{background:linear-gradient(135deg, #1a1a1a, #0d1421);border:2px solid var(--accent);animation:glow 3s ease-in-out infinite}
  .live-badge{display:inline-flex;align-items:center;gap:6px;background:var(--accent);color:#000;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:800;margin-bottom:8px}
  .live-dot{width:6px;height:6px;background:#ff4444;border-radius:50%;animation:pulse 1s infinite}

  /* Enhanced mobile responsiveness */
  @media (max-width:1100px){
    .root{padding:12px;flex-direction:column}
    .sidebar{width:100%;order:2}
    .right-col{width:100%;order:3}
    .chat-column{max-width:100%;order:1}
    .container{flex-direction:column}
    .msg.user{flex-direction:row}
    .bubble{max-width:90%}
  }

  /* Typing indicator */
  .typing-dots{display:inline-flex;gap:4px;align-items:center}
  .typing-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;animation:typing 1.4s infinite}
  .typing-dot:nth-child(2){animation-delay:0.2s}
  .typing-dot:nth-child(3){animation-delay:0.4s}
  @keyframes typing {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
  }

  footer.app-footer{
    width:100%; text-align:center; padding:16px 0; color:var(--muted); font-size:12px;
    background:transparent; border-top:1px solid rgba(255,255,255,0.02)
  }
</style>
</head>
<body>
  <div class="root" role="application" aria-label="KaiGPT ‚Ä¢ SAFI">
    <aside class="sidebar" aria-label="Sidebar">
      <div>
        <div class="brand">
          <div class="logo" aria-hidden="true">KAI</div>
          <div>
            <h1>Knowing.AI</h1>
            <div class="sub">KaiGPT ‚Ä¢ SAFI ‚Äî GEM Opening Edition</div>
          </div>
        </div>

        <div class="slogan">Know more. Do more.</div>

        <div class="countdown">
          <div class="countdown-text">üèõÔ∏è GEM ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±</div>
          <div class="countdown-time" id="countdown">OPENING DAY!</div>
          <div style="font-size:12px;color:white;margin-top:4px">1 November 2025</div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="stat-number">100K+</div>
            <div class="stat-label">ŸÇÿ∑ÿπÿ© ÿ£ÿ´ÿ±Ÿäÿ©</div>
          </div>
          <div class="stat">
            <div class="stat-number">5000+</div>
            <div class="stat-label">ŸÉŸÜŸàÿ≤ ÿ™Ÿàÿ™</div>
          </div>
          <div class="stat">
            <div class="stat-number">480K</div>
            <div class="stat-label">ŸÖ¬≤ ŸÖÿ≥ÿßÿ≠ÿ©</div>
          </div>
          <div class="stat">
            <div class="stat-number">5M</div>
            <div class="stat-label">ÿ≤ÿßÿ¶ÿ± ÿ≥ŸÜŸàŸäÿßŸã</div>
          </div>
        </div>

        <div style="margin-top:14px;">
          <div class="card" style="margin-bottom:12px">
            <strong style="color:var(--text)">SAFI ‚Äî ÿßŸÑŸÖÿ±ÿ¥ÿØÿ© ÿßŸÑŸÖÿµÿ±Ÿäÿ© ÿßŸÑÿ∞ŸÉŸäÿ©</strong>
            <div style="margin-top:8px;color:var(--muted);font-size:13px">ÿ£ŸàŸÑ ŸÖÿ±ÿ¥ÿØÿ© ÿ∞ŸÉŸäÿ© ŸÖÿµÿ±Ÿäÿ© ÿ™ÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ŸÖÿµÿ±Ÿä ÿ£ÿµŸäŸÑ Ÿàÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿä ÿ®ÿ∑ŸÑÿßŸÇÿ©. ÿÆÿ®Ÿäÿ±ÿ© ŸÅŸä ÿ™ÿßÿ±ŸäÿÆ ŸÖÿµÿ± ŸàÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±.</div>
          </div>

          <div class="card">
            <div style="font-weight:700;margin-bottom:8px;color:var(--text)">üéØ ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ≥ÿ±Ÿäÿπÿ©</div>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button class="btn" onclick="app.sendPrompt('ŸÖÿ™Ÿâ ÿßŸÅÿ™ÿ™ÿßÿ≠ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±ÿü')">üèõÔ∏è ŸÖŸàÿπÿØ ÿßŸÑÿßŸÅÿ™ÿ™ÿßÿ≠</button>
              <button class="btn" onclick="app.sendPrompt('What makes GEM the world\'s largest museum?')">üåç ÿßŸÑÿ£ŸÉÿ®ÿ± ÿπÿßŸÑŸÖŸäÿßŸã</button>
              <button class="btn" onclick="app.sendPrompt('ÿ£ŸäŸá ÿ£ŸáŸÖ ŸÉŸÜŸàÿ≤ ÿ™Ÿàÿ™ ÿπŸÜÿÆ ÿ¢ŸÖŸàŸÜ ŸÅŸä ÿßŸÑŸÖÿ™ÿ≠ŸÅÿü')">üëë ŸÉŸÜŸàÿ≤ ÿ™Ÿàÿ™</button>
              <button class="btn" onclick="app.sendPrompt('Tell me about SAFI and Knowing.AI')">ü§ñ ÿπŸÜ ÿµÿßŸÅŸä</button>
              <button class="btn" onclick="app.sendPrompt('ÿ£ÿ≥ÿπÿßÿ± ÿ™ÿ∞ÿßŸÉÿ± ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿ£ŸäŸáÿü')">üé´ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿ™ÿ∞ÿßŸÉÿ±</button>
              <button class="btn" onclick="app.sendPrompt('How can I visit GEM from Cairo?')">üöó ÿ•ÿ≤ÿßŸä ÿ£ÿ±Ÿàÿ≠</button>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        üá™üá¨ ¬© 2025 Knowing.AI ‚Äî Egypt's First Unified AI Platform<br>
        Powered by SAFI ‚Ä¢ Developed with ‚ù§Ô∏è for Egypt
      </div>
    </aside>

    <main class="main" role="main">
      <div class="topbar">
        <div class="title">KaiGPT <span class="tag" style="margin-left:12px">üèõÔ∏è GEM OPENING</span></div>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn" onclick="app.reset()">üîÑ Reset</button>
          <button id="voiceBtn" class="btn" onclick="app.toggleVoice()">üé§ Voice</button>
          <button class="btn" onclick="app.showInfo()">‚ÑπÔ∏è Info</button>
        </div>
      </div>

      <div class="container">
        <section class="chat-column" aria-label="Chat Column">
          <div class="messages" id="messages" role="log" aria-live="polite">
            <div class="welcome" id="welcome">
              <div class="avatar" aria-hidden="true">üë∏üèª</div>
              <div class="welcome-text">
                <h2>ÿ£ŸáŸÑÿßŸã ÿ®ŸäŸÉ! ÿ£ŸÜÿß ÿµÿßŸÅŸä üá™üá¨</h2>
                <p>ÿ£ŸÜÿß ÿµÿßŸÅŸäÿå ÿ£ŸàŸÑ ŸÖÿ±ÿ¥ÿØÿ© ÿ∞ŸÉŸäÿ© ŸÖÿµÿ±Ÿäÿ© ŸÖŸÜ Knowing.AIÿå Ÿàÿ£ŸÜÿß ŸáŸÜÿß ÿπÿ¥ÿßŸÜ ÿ£ÿ≥ÿßÿπÿØŸÉ ÿ™ÿπÿ±ŸÅ ŸÉŸÑ ÿ≠ÿßÿ¨ÿ© ÿπŸÜ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ± ÿßŸÑŸÑŸä ŸáŸäŸÅÿ™ÿ≠ ÿ®ŸÉÿ±ÿ© 1 ŸÜŸàŸÅŸÖÿ®ÿ± 2025! ÿ•ÿ≥ÿ£ŸÑ ÿ®ÿßŸÑÿπÿ±ÿ®Ÿä ÿßŸÑŸÖÿµÿ±Ÿä ÿ£Ÿà ÿ®ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿå ŸàŸáÿ¨ÿßŸàÿ®ŸÉ ÿ®ŸÉŸÑ ÿ≠ÿ® ŸàŸÅÿÆÿ± ÿ®ÿ™ÿßÿ±ŸäÿÆŸÜÿß ÿßŸÑÿπÿ∏ŸäŸÖ. üèõÔ∏è‚ú®</p>
                <p style="margin-top:12px;padding:12px;background:rgba(255,215,0,0.1);border-radius:8px;border:1px solid rgba(255,215,0,0.2)">
                  <strong style="color:var(--gold)">üéâ ÿÆÿ®ÿ± ÿπÿßÿ¨ŸÑ:</strong> ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±ÿå ÿ£ŸÉÿ®ÿ± ŸÖÿ™ÿ≠ŸÅ ÿ£ÿ´ÿ±Ÿä ŸÅŸä ÿßŸÑÿπÿßŸÑŸÖÿå ŸäŸÅÿ™ÿ≠ ÿ£ÿ®Ÿàÿßÿ®Ÿá ÿ±ÿ≥ŸÖŸäÿßŸã ÿ®ŸÉÿ±ÿ© ŸÅŸä ÿ≠ŸÅŸÑ ÿπÿßŸÑŸÖŸä ŸÖŸáŸäÿ®!
                </p>
              </div>
            </div>
          </div>

          <div class="composer" aria-label="Composer">
            <div class="composer-inner">
              <textarea id="input" class="input" placeholder="ÿßÿ≥ÿ£ŸÑŸÜŸä ÿ£Ÿä ÿ≠ÿßÿ¨ÿ© ÿπŸÜ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±... üèõÔ∏è (ŸÖÿ´ÿßŸÑ: ŸÖÿ™Ÿâ ÿßŸÑÿßŸÅÿ™ÿ™ÿßÿ≠ÿü ÿ£Ÿà What time does GEM open?)" oninput="app.onInput()" onkeydown="app.onKey(event)"></textarea>
              <div class="controls">
                <button id="mic" class="btn" onclick="app.toggleRecording()" title="ÿ™ÿ≥ÿ¨ŸäŸÑ ÿµŸàÿ™Ÿä">üéôÔ∏è</button>
                <button class="btn" onclick="app.toggleLanguage()" title="ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ©">üåê</button>
                <button class="btn primary" onclick="app.send()">‚û§ ÿ•ÿ±ÿ≥ÿßŸÑ</button>
              </div>
            </div>
            <div class="small-note">ÿßÿ≥ÿ™ŸÖÿ™ÿπ ÿ®ÿ£ŸàŸÑ ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä ŸÖÿµÿ±Ÿäÿ© ÿ£ÿµŸäŸÑÿ© ‚Ä¢ Know more. Do more.</div>
          </div>
        </section>

        <aside class="right-col" aria-hidden="true">
          <div class="card live-info">
            <div class="live-badge">
              <div class="live-dot"></div>
              LIVE UPDATE
            </div>
            <h3>üèõÔ∏è ÿßŸÅÿ™ÿ™ÿßÿ≠ ÿ™ÿßÿ±ŸäÿÆŸä</h3>
            <p>ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ± ŸäŸÅÿ™ÿ≠ ÿ∫ÿØÿßŸã 1 ŸÜŸàŸÅŸÖÿ®ÿ± 2025 ŸÅŸä ÿ≠ŸÅŸÑ Ÿäÿ¥ŸáÿØŸá ÿßŸÑÿπÿßŸÑŸÖ ŸÉŸÑŸá! üåç</p>
            <ul style="margin:8px 0;padding:0 0 0 20px;color:var(--text)">
              <li>ÿßŸÑÿ®ÿ´ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ± ÿπŸÑŸâ TikTok</li>
              <li>ÿ≠ÿ∂Ÿàÿ± ŸÇÿßÿØÿ© ŸàŸÖÿ≥ÿ§ŸàŸÑŸäŸÜ ŸÖŸÜ ÿßŸÑÿπÿßŸÑŸÖ</li>
              <li>ÿßŸÅÿ™ÿ™ÿßÿ≠ ŸÖÿπÿßÿ±ÿ∂ ÿ™Ÿàÿ™ ÿπŸÜÿÆ ÿ¢ŸÖŸàŸÜ</li>
            </ul>
          </div>

          <div class="card">
            <h3>üìä ÿ≠ŸÇÿßÿ¶ŸÇ ŸÖÿ∞ŸáŸÑÿ©</h3>
            <ul style="margin:8px 0 0 18px;color:var(--muted);padding:0;">
              <li><strong>100,000+</strong> ŸÇÿ∑ÿπÿ© ÿ£ÿ´ÿ±Ÿäÿ©</li>
              <li><strong>5,000+</strong> ŸÇÿ∑ÿπÿ© ŸÖŸÜ ŸÉŸÜŸàÿ≤ ÿ™Ÿàÿ™</li>
              <li><strong>22,000 ŸÖ¬≤</strong> ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿπÿ±ÿ∂</li>
              <li><strong>‚Ç¨30</strong> ÿ≥ÿπÿ± ÿßŸÑÿ™ÿ∞ŸÉÿ±ÿ© ŸÑŸÑÿ£ÿ¨ÿßŸÜÿ®</li>
              <li><strong>5 ŸÖŸÑŸäŸàŸÜ</strong> ÿ≤ÿßÿ¶ÿ± ŸÖÿ™ŸàŸÇÿπ ÿ≥ŸÜŸàŸäÿßŸã</li>
            </ul>
          </div>

          <div class="card">
            <h3>üéØ About Knowing.AI</h3>
            <p>ŸÖŸÜÿµÿ© ŸÖÿµÿ±Ÿäÿ© ÿ±ÿßÿ¶ÿØÿ© ŸÑŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸäÿå ÿ™ŸÇÿØŸÖ ÿ≠ŸÑŸàŸÑ ŸÖÿ®ÿ™ŸÉÿ±ÿ© ŸÑŸÑÿ≥Ÿäÿßÿ≠ÿ© ŸàÿßŸÑÿ™ÿπŸÑŸäŸÖ ŸàÿßŸÑÿ£ÿπŸÖÿßŸÑ.</p>
            <div style="margin-top:12px;font-size:12px;color:var(--accent)">
              <strong>Developer:</strong> Haitham - The Egyptian Miracle Boy üá™üá¨
            </div>
          </div>
        </aside>
      </div>

      <footer class="app-footer">
        üá™üá¨ Made with Love in Egypt ‚Ä¢ ¬© 2025 Knowing.AI ‚Äî Egypt's First Unified AI Platform ‚Ä¢ Powered by SAFI
      </footer>

    </main>
  </div>

<script>
/* ========================= COMPREHENSIVE KNOWLEDGE BASE ========================= */
const ENHANCED_KNOWLEDGE = [
  // Opening & Basic Info
  { 
    id: 1, 
    keywords: ["ŸÖÿ™Ÿâ","ÿßŸÅÿ™ÿ™ÿßÿ≠","opening","when","november","1 november","1 ŸÜŸàŸÅŸÖÿ®ÿ±","ŸÖŸàÿπÿØ","ÿ™ÿßÿ±ŸäÿÆ","date"], 
    a_ar: "üéâ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ± ŸäŸÅÿ™ÿ≠ ÿ±ÿ≥ŸÖŸäÿßŸã ÿ∫ÿØÿßŸã 1 ŸÜŸàŸÅŸÖÿ®ÿ± 2025 ŸÅŸä ÿ≠ŸÅŸÑ ÿπÿßŸÑŸÖŸä ŸÖŸáŸäÿ®! ÿßŸÑÿ≠ŸÅŸÑ ŸáŸäÿ®ŸÇŸâ live ÿπŸÑŸâ TikTok ŸàÿßŸÑÿπÿßŸÑŸÖ ŸÉŸÑŸá ŸáŸäÿ¥ŸàŸÅ ÿ£ÿπÿ∏ŸÖ ÿßŸÅÿ™ÿ™ÿßÿ≠ ŸÖÿ™ÿ≠ŸÅ ŸÅŸä ÿßŸÑÿ™ÿßÿ±ŸäÿÆ.", 
    a_en: "üéâ The Grand Egyptian Museum officially opens tomorrow, November 1, 2025, in a magnificent global ceremony! The event will be live-streamed on TikTok for the world to witness the greatest museum opening in history." 
  },
  
  // Location & Access
  { 
    id: 2, 
    keywords: ["ÿßŸäŸÜ","ÿ£ŸäŸÜ","ŸÖŸÉÿßŸÜ","where","location","giza","ÿßŸÑÿ¨Ÿäÿ≤ÿ©","ÿßŸáÿ±ÿßŸÖÿßÿ™","pyramids","ÿπŸÜŸàÿßŸÜ","address"], 
    a_ar: "üèõÔ∏è ÿßŸÑŸÖÿ™ÿ≠ŸÅ ŸÖŸàÿ¨ŸàÿØ ŸÅŸä Ÿáÿ∂ÿ®ÿ© ÿßŸÑÿ¨Ÿäÿ≤ÿ©ÿå ÿπŸÑŸâ ÿ®ÿπÿØ ŸÖÿ¶ÿßÿ™ ÿßŸÑÿ£ŸÖÿ™ÿßÿ± ŸÖŸÜ ÿ£Ÿáÿ±ÿßŸÖÿßÿ™ ÿßŸÑÿ¨Ÿäÿ≤ÿ© ÿßŸÑÿπÿ∏ŸäŸÖÿ©. ÿßŸÑŸÖŸàŸÇÿπ ŸÖÿ´ÿßŸÑŸä ŸàŸäÿ∑ŸÑ ÿπŸÑŸâ ÿßŸÑÿ£Ÿáÿ±ÿßŸÖÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©!", 
    a_en: "üèõÔ∏è The museum is located on the Giza plateau, just a few hundred meters from the iconic Pyramids of Giza. The location is perfect with direct views of the pyramids!" 
  },

  // Size & Scale
  { 
    id: 3, 
    keywords: ["ŸÖÿ≥ÿßÿ≠ÿ©","size","480000","480,000","ŸÖÿ™ÿ± ŸÖÿ±ÿ®ÿπ","area","largest","ÿ£ŸÉÿ®ÿ±","ÿ≠ÿ¨ŸÖ"], 
    a_ar: "üåç ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ± ŸáŸà ÿ£ŸÉÿ®ÿ± ŸÖÿ™ÿ≠ŸÅ ÿ£ÿ´ÿ±Ÿä ŸÅŸä ÿßŸÑÿπÿßŸÑŸÖ ŸÖÿÆÿµÿµ ŸÑÿ≠ÿ∂ÿßÿ±ÿ© Ÿàÿßÿ≠ÿØÿ©! ŸÖÿ≥ÿßÿ≠ÿ™Ÿá 480,000 ŸÖÿ™ÿ± ŸÖÿ±ÿ®ÿπÿå Ÿà22,000 ŸÖÿ™ÿ± ŸÖÿ±ÿ®ÿπ ŸÖŸÜŸáÿß ŸÖÿÆÿµÿµÿ© ŸÑŸÑÿπÿ±ÿ∂.", 
    a_en: "üåç The Grand Egyptian Museum is the largest archaeological museum in the world dedicated to a single civilization! It covers 480,000 square meters, with 22,000 square meters of exhibition space." 
  },

  // Tutankhamun Collection
  { 
    id: 4, 
    keywords: ["ÿ™Ÿàÿ™","ÿ™Ÿàÿ™ ÿπŸÜÿÆ","tutankhamun","treasures","ŸÉŸÜŸàÿ≤","mask","ŸÇŸÜÿßÿπ","5000","ÿÆŸÖÿ≥ÿ© ÿ¢ŸÑÿßŸÅ"], 
    a_ar: "üëë ŸÑÿ£ŸàŸÑ ŸÖÿ±ÿ© ŸÅŸä ÿßŸÑÿ™ÿßÿ±ŸäÿÆÿå ŸÉŸÑ ŸÉŸÜŸàÿ≤ ÿ™Ÿàÿ™ ÿπŸÜÿÆ ÿ¢ŸÖŸàŸÜ ÿßŸÑŸÄ5000 ŸÇÿ∑ÿπÿ© Ÿáÿ™ÿ®ŸÇŸâ ŸÖÿπÿ±Ÿàÿ∂ÿ© ŸÅŸä ŸÖŸÉÿßŸÜ Ÿàÿßÿ≠ÿØ! ÿ¥ÿßŸÖŸÑ ÿßŸÑŸÇŸÜÿßÿπ ÿßŸÑÿ∞Ÿáÿ®Ÿä ÿßŸÑÿ¥ŸáŸäÿ± ŸàÿßŸÑÿ™ŸÖÿßÿ´ŸäŸÑ ÿßŸÑÿÆÿ¥ÿ®Ÿäÿ© ÿ®ÿßŸÑÿ≠ÿ¨ŸÖ ÿßŸÑÿ∑ÿ®ŸäÿπŸä.", 
    a_en: "üëë For the first time in history, all 5,000+ treasures of King Tutankhamun will be displayed in one place! Including the famous golden funeral mask and life-size wooden statues." 
  },

  // About SAFI
  { 
    id: 5, 
    keywords: ["ÿµÿßŸÅŸä","safi","ŸÖŸÜ ŸáŸä ÿµÿßŸÅŸä","who is safi","about safi","ŸÖŸäŸÜ ÿµÿßŸÅŸä"], 
    a_ar: "üë∏üèª ÿ£ŸÜÿß ÿµÿßŸÅŸäÿå ÿ£ŸàŸÑ ŸÖÿ±ÿ¥ÿØÿ© ÿ∞ŸÉŸäÿ© ŸÖÿµÿ±Ÿäÿ© ŸÖŸÜ Knowing.AI! ÿßÿ≥ŸÖŸä ŸÖÿ£ÿÆŸàÿ∞ ŸÖŸÜ ŸÉŸÑŸÖÿ© 'ÿµÿßŸÅŸä' ÿßŸÑŸÑŸä ÿ®ŸÜŸÇŸàŸÑŸáÿß ŸÅŸä ŸÖÿµÿ± Ÿàÿ™ÿπŸÜŸä 'Ÿàÿßÿ∂ÿ≠ Ÿàÿ¨ŸÖŸäŸÑ'. ÿ£ŸÜÿß ŸáŸÜÿß ÿπÿ¥ÿßŸÜ ÿ£ŸÉŸàŸÜ ÿµŸàÿ™ŸÉ ÿßŸÑŸàÿØŸàÿØ ŸÅŸä ÿ±ÿ≠ŸÑÿ© ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿπÿ∏ŸÖÿ© ŸÖÿµÿ±.", 
    a_en: "üë∏üèª I'm SAFI, Egypt's first intelligent AI guide from Knowing.AI! My name comes from the Egyptian word 'Safi' meaning 'clear and beautiful'. I'm here to be your friendly voice in discovering Egypt's greatness." 
  },

  // About Knowing.AI
  { 
    id: 6, 
    keywords: ["knowing.ai","knowing ai","what is knowing","ŸÖŸÜ ŸáŸä knowing.ai","ŸÜŸàŸÑŸäŸÜÿ¨"], 
    a_ar: "üöÄ Knowing.AI ŸáŸä ÿ£ŸàŸÑ ŸÖŸÜÿµÿ© ÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä ŸÖŸàÿ≠ÿØÿ© ŸÅŸä ŸÖÿµÿ±ÿå ŸÖŸáŸÖÿ™Ÿáÿß: Know more. Do more. ŸÜŸÇÿØŸÖ ÿ≠ŸÑŸàŸÑ ŸÖÿ®ÿ™ŸÉÿ±ÿ© ŸÑŸÑÿ≥Ÿäÿßÿ≠ÿ© ŸàÿßŸÑÿ™ÿπŸÑŸäŸÖ ŸàÿßŸÑÿ®ŸÜŸàŸÉ ŸàÿßŸÑÿ¥ÿ±ŸÉÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ©.", 
    a_en: "üöÄ Knowing.AI is Egypt's first unified AI platform with the mission: Know more. Do more. We provide innovative solutions for tourism, education, banking, and small businesses." 
  },

  // Languages
  { 
    id: 7, 
    keywords: ["ŸÑÿ∫ÿßÿ™","languages","english","arabic","ÿßŸÑÿπÿ±ÿ®Ÿäÿ©","ŸÖÿµÿ±Ÿä","egyptian"], 
    a_ar: "üåê ÿ£ŸÜÿß ÿ®ÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ŸÖÿµÿ±Ÿä ÿ£ÿµŸäŸÑ Ÿàÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿä ÿ®ÿ∑ŸÑÿßŸÇÿ©ÿå ŸàŸÅÿÆŸàÿ±ÿ© ÿ•ŸÜŸä ÿ£ŸÇÿØÿ± ÿ£ŸàÿµŸÑ ÿ™ÿßÿ±ŸäÿÆ ŸÖÿµÿ± ÿßŸÑÿπÿ∏ŸäŸÖ ŸÑŸÑÿπÿßŸÑŸÖ ŸÉŸÑŸá ÿ®ÿ≠ÿ® ŸàÿØŸÅÿ° ŸÖÿµÿ±Ÿä ÿ£ÿµŸäŸÑ.", 
    a_en: "üåê I speak authentic Egyptian Arabic and fluent English, and I'm proud to share Egypt's great history with the world with genuine Egyptian warmth and love." 
  },

  // World Wonders Connection
  { 
    id: 8, 
    keywords: ["ÿπÿ¨ÿßÿ¶ÿ®","wonders","seven wonders","ÿßŸáÿ±ÿßŸÖÿßÿ™","library","pharos","ÿßŸÑÿßÿ≥ŸÉŸÜÿØÿ±Ÿäÿ©","alexandria"], 
    a_ar: "üèõÔ∏è ŸÖÿµÿ± ÿßÿ≠ÿ™Ÿàÿ™ ÿ™ÿßÿ±ŸäÿÆŸäÿßŸã ÿπŸÑŸâ 3 ŸÖŸÜ ÿπÿ¨ÿßÿ¶ÿ® ÿßŸÑÿØŸÜŸäÿß ÿßŸÑÿ≥ÿ®ÿπ ÿßŸÑŸÇÿØŸäŸÖÿ©: ÿßŸÑŸáÿ±ŸÖ ÿßŸÑÿ£ŸÉÿ®ÿ± (ÿßŸÑŸàÿ≠ŸäÿØ ÿßŸÑÿ®ÿßŸÇŸä)ÿå ŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑÿ•ÿ≥ŸÉŸÜÿØÿ±Ÿäÿ©ÿå ŸàŸÖŸÜÿßÿ±ÿ© ÿßŸÑÿ•ÿ≥ŸÉŸÜÿØÿ±Ÿäÿ© (ÿßŸÑŸÅÿßÿ±Ÿàÿ≥). ŸàÿßŸÑŸÜŸáÿßÿ±ÿØŸá ÿ®ŸÜŸÅÿ™ÿ≠ ÿπÿ¨Ÿäÿ®ÿ© ÿ¨ÿØŸäÿØÿ©!", 
    a_en: "üèõÔ∏è Egypt historically hosted 3 of the ancient Seven Wonders: the Great Pyramid (the only one still standing), the Library of Alexandria, and the Lighthouse of Alexandria (Pharos). Today we're opening a new wonder!" 
  },

  // Tourism Impact
  { 
    id: 9, 
    keywords: ["ÿ≤Ÿàÿßÿ±","visitors","tourism","ÿ≥Ÿäÿßÿ≠ÿ©","5 million","ÿÆŸÖÿ≥ÿ© ŸÖŸÑŸäŸàŸÜ"], 
    a_ar: "‚úàÔ∏è ÿßŸÑŸÖÿ™ÿ≠ŸÅ ŸÖÿ™ŸàŸÇÿπ Ÿäÿ¨ÿ∞ÿ® 5 ŸÖŸÑŸäŸàŸÜ ÿ≤ÿßÿ¶ÿ± ÿ≥ŸÜŸàŸäÿßŸã ŸÖŸÜ ŸÉŸÑ ÿ£ŸÜÿ≠ÿßÿ° ÿßŸÑÿπÿßŸÑŸÖÿå ŸàÿØŸá ŸáŸäÿπÿ≤ÿ≤ ÿßŸÑÿ≥Ÿäÿßÿ≠ÿ© ÿßŸÑŸÖÿµÿ±Ÿäÿ© ÿ®ÿ¥ŸÉŸÑ ŸÉÿ®Ÿäÿ± ŸàŸäÿÆŸÑŸä ŸÖÿµÿ± ŸÖŸÇÿµÿØ ÿ±ŸÇŸÖ 1 ÿπÿßŸÑŸÖŸäÿßŸã.", 
    a_en: "‚úàÔ∏è The museum is expected to attract 5 million visitors annually from around the world, significantly boosting Egyptian tourism and making Egypt the world's #1 destination." 
  },

  // Technology & Innovation
  { 
    id: 10, 
    keywords: ["ÿ™ŸÇŸÜŸäÿßÿ™","technology","vr","hologram","ÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß","ÿßŸÑŸàÿßŸÇÿπ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä","virtual","interactive"], 
    a_ar: "üî¨ ÿßŸÑŸÖÿ™ÿ≠ŸÅ Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿ£ÿ≠ÿØÿ´ ÿßŸÑÿ™ŸÇŸÜŸäÿßÿ™: ÿßŸÑŸàÿßŸÇÿπ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿå ÿßŸÑŸáŸàŸÑŸàÿ¨ÿ±ÿßŸÖÿå ÿ¥ÿßÿ¥ÿßÿ™ ÿ™ŸÅÿßÿπŸÑŸäÿ©ÿå ŸàŸÖÿπÿßŸÖŸÑ ÿ™ÿ±ŸÖŸäŸÖ ŸÖÿ™ÿ∑Ÿàÿ±ÿ© ÿ™ÿ≠ÿ™ ÿßŸÑÿ£ÿ±ÿ∂. ÿ™ŸÇŸÜŸäÿßÿ™ ŸÖÿ≥ÿ™ŸÇÿ®ŸÑŸäÿ© ÿ™ŸÑÿ™ŸÇŸä ÿ®ÿ™ÿßÿ±ŸäÿÆ ÿπÿ±ŸäŸÇ!", 
    a_en: "üî¨ The museum uses cutting-edge technology: VR, holograms, interactive touchscreens, and advanced underground conservation labs. Futuristic technology meets ancient history!" 
  },

  // Tickets & Pricing
  { 
    id: 11, 
    keywords: ["ÿ™ÿ∞ÿßŸÉÿ±","tickets","ÿ≠ÿ¨ÿ≤","booking","ŸÖŸàÿßÿπŸäÿØ","ÿ£ÿ≥ÿπÿßÿ±","prices","30 euro","1450","ÿ≥ÿπÿ±"], 
    a_ar: "üé´ ÿ≠ÿ¨ÿ≤ ÿßŸÑÿ™ÿ∞ÿßŸÉÿ± Ÿäÿ®ÿØÿ£ 4 ŸÜŸàŸÅŸÖÿ®ÿ± ŸÑŸÑÿ¨ŸÖŸáŸàÿ± ÿßŸÑÿπÿßŸÖ. ÿ≥ÿπÿ± ÿßŸÑÿ™ÿ∞ŸÉÿ±ÿ© ŸÑŸÑÿ£ÿ¨ÿßŸÜÿ® ÿßŸÑÿ®ÿßŸÑÿ∫ŸäŸÜ 1450 ÿ¨ŸÜŸäŸá ŸÖÿµÿ±Ÿä (ÿ≠ŸàÿßŸÑŸä 30 ŸäŸàÿ±Ÿà). ÿßŸÑÿ≠ÿ¨ÿ≤ ÿßŸÑŸÖÿ≥ÿ®ŸÇ ŸÖÿ∑ŸÑŸàÿ®!", 
    a_en: "üé´ Public ticket booking starts November 4th. Adult foreign visitor tickets cost 1,450 Egyptian pounds (approximately ‚Ç¨30). Advance booking required!" 
  },

  // Architecture & Design
  { 
    id: 12, 
    keywords: ["ÿ™ÿµŸÖŸäŸÖ","design","architecture","ŸÖÿπŸÖÿßÿ±","ŸáŸÜÿØÿ≥ÿ©","irish","roisin","triangular","ŸÖÿ´ŸÑÿ´ÿßÿ™"], 
    a_ar: "üèóÔ∏è ÿ™ÿµŸÖŸäŸÖ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ŸÖŸÜ ÿßŸÑŸÖŸáŸÜÿØÿ≥ÿ© ÿßŸÑŸÖÿπŸÖÿßÿ±Ÿäÿ© ÿßŸÑÿ£Ÿäÿ±ŸÑŸÜÿØŸäÿ© Roisin Heneghanÿå ŸÖÿ≥ÿ™Ÿàÿ≠Ÿâ ŸÖŸÜ ÿßŸÑÿ£Ÿáÿ±ÿßŸÖÿßÿ™ ÿ®ÿ£ÿ¥ŸÉÿßŸÑ ŸÖÿ´ŸÑÿ´Ÿäÿ© ŸÖÿ®ÿ™ŸÉÿ±ÿ©ÿå ŸàŸäÿ≥ÿ™ÿÆÿØŸÖ ÿ™ŸÇŸÜŸäÿßÿ™ ŸÖÿ≥ÿ™ÿØÿßŸÖÿ© ŸÅŸä ÿßŸÑÿ®ŸÜÿßÿ°.", 
    a_en: "üèóÔ∏è The museum's design by Irish architect Roisin Heneghan is inspired by the pyramids with innovative triangular forms, using sustainable construction techniques." 
  },

  // Contact & Support
  { 
    id: 13, 
    keywords: ["ÿßÿ™ÿµŸÑ","contact","support","email","knowing.ai.eg","ÿ™ŸàÿßÿµŸÑ","ŸÖÿ≥ÿßÿπÿØÿ©"], 
    a_ar: "üìß ŸÑŸÑÿØÿπŸÖ ÿ£Ÿà ÿßŸÑÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ±ÿßÿ™ ÿ£Ÿà ÿßŸÑŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ÿå ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿπŸÑŸâ: knowing.ai.eg@outlook.com. ÿ•ÿ≠ŸÜÿß ÿØÿßŸäŸÖÿßŸã ŸáŸÜÿß ÿπÿ¥ÿßŸÜ ŸÜÿ≥ÿßÿπÿØŸÉ!", 
    a_en: "üìß For support, inquiries, or feedback, contact us at: knowing.ai.eg@outlook.com. We're always here to help you!" 
  },

  // Opening Ceremony Details
  { 
    id: 14, 
    keywords: ["ÿ≠ŸÅŸÑ","ceremony","opening ceremony","live","tiktok","leaders","ŸÇÿßÿØÿ©","dignitaries"], 
    a_ar: "üéä ÿ≠ŸÅŸÑ ÿßŸÑÿßŸÅÿ™ÿ™ÿßÿ≠ ŸáŸäÿ≠ÿ∂ÿ±Ÿá ŸÇÿßÿØÿ© ŸàŸÖÿ≥ÿ§ŸàŸÑŸäŸÜ ŸÖŸÜ ŸÉŸÑ ÿ£ŸÜÿ≠ÿßÿ° ÿßŸÑÿπÿßŸÑŸÖÿå ŸàŸáŸäÿ™ÿ®ÿ´ ŸÖÿ®ÿßÿ¥ÿ±ÿ© ÿπŸÑŸâ TikTok. ÿ≠ŸÅŸÑ ÿ™ÿßÿ±ŸäÿÆŸä ŸäŸÑŸäŸÇ ÿ®ÿπÿ∏ŸÖÿ© ŸÖÿµÿ±!", 
    a_en: "üéä The opening ceremony will be attended by world leaders and dignitaries, live-streamed on TikTok. A historic celebration worthy of Egypt's greatness!" 
  },

  // Artifacts & Collections
  { 
    id: 15, 
    keywords: ["artifacts","ŸÇÿ∑ÿπ","ÿ£ÿ´ÿ±Ÿäÿ©","100000","ŸÖÿ¶ÿ© ÿ£ŸÑŸÅ","collections","ŸÖÿ¨ŸÖŸàÿπÿßÿ™","ancient"], 
    a_ar: "üè∫ ÿßŸÑŸÖÿ™ÿ≠ŸÅ Ÿäÿ∂ŸÖ ÿ£ŸÉÿ´ÿ± ŸÖŸÜ 100,000 ŸÇÿ∑ÿπÿ© ÿ£ÿ´ÿ±Ÿäÿ© ŸÜÿßÿØÿ±ÿ© ŸÖŸÜ ŸÖÿÆÿ™ŸÑŸÅ ÿßŸÑÿπÿµŸàÿ± ÿßŸÑŸÖÿµÿ±Ÿäÿ© ÿßŸÑŸÇÿØŸäŸÖÿ©ÿå ŸÖŸÜ ÿπÿµÿ± ŸÖÿß ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ Ÿàÿ≠ÿ™Ÿâ ÿßŸÑÿπÿµÿ± ÿßŸÑŸäŸàŸÜÿßŸÜŸä ÿßŸÑÿ±ŸàŸÖÿßŸÜŸä.", 
    a_en: "üè∫ The museum houses over 100,000 rare artifacts from various ancient Egyptian periods, from prehistoric times to the Greco-Roman era." 
  },

  // Transportation & Access
  { 
    id: 16, 
    keywords: ["ÿ•ÿ≤ÿßŸä ÿ£ÿ±Ÿàÿ≠","how to get","transportation","ŸÖŸàÿßÿµŸÑÿßÿ™","ŸÖŸÜ ÿßŸÑŸÇÿßŸáÿ±ÿ©","from cairo","taxi","bus"], 
    a_ar: "üöó ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿ≥ŸáŸÑ ÿßŸÑŸàÿµŸàŸÑ ŸÑŸäŸá ŸÖŸÜ ÿßŸÑŸÇÿßŸáÿ±ÿ© ÿ®ÿßŸÑÿ™ÿßŸÉÿ≥Ÿä ÿ£Ÿà ÿßŸÑÿ£Ÿàÿ®ÿ± (ÿ≠ŸàÿßŸÑŸä 45 ÿØŸÇŸäŸÇÿ©)ÿå ÿ£Ÿà ÿ®ÿßŸÑÿ£ÿ™Ÿàÿ®Ÿäÿ≥ ÿßŸÑÿ≥Ÿäÿßÿ≠Ÿä. ŸÖŸàŸÇŸÅ ÿ≥Ÿäÿßÿ±ÿßÿ™ ŸÉÿ®Ÿäÿ± ŸÖÿ™ŸàŸÅÿ± ŸÑŸÑÿ≤Ÿàÿßÿ±.", 
    a_en: "üöó The museum is easily accessible from Cairo by taxi or Uber (about 45 minutes), or by tourist bus. Large parking facilities are available for visitors." 
  },

  // Conservation Labs
  { 
    id: 17, 
    keywords: ["ÿ™ÿ±ŸÖŸäŸÖ","conservation","labs","ŸÖÿπÿßŸÖŸÑ","restoration","underground","ÿ™ÿ≠ÿ™ ÿßŸÑÿ£ÿ±ÿ∂"], 
    a_ar: "üî¨ ÿßŸÑŸÖÿ™ÿ≠ŸÅ Ÿäÿ∂ŸÖ 19 ŸÖÿπŸÖŸÑ ÿ™ÿ±ŸÖŸäŸÖ ŸÖÿ™ÿÆÿµÿµ ÿ™ÿ≠ÿ™ ÿßŸÑÿ£ÿ±ÿ∂ÿå ŸÖÿ¨Ÿáÿ≤ŸäŸÜ ÿ®ÿ£ÿ≠ÿØÿ´ ÿßŸÑÿ™ŸÇŸÜŸäÿßÿ™ ŸÑŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ© ÿπŸÑŸâ ÿßŸÑÿ™ÿ±ÿßÿ´ ÿßŸÑŸÖÿµÿ±Ÿä ŸÑŸÑÿ£ÿ¨ŸäÿßŸÑ ÿßŸÑŸÇÿßÿØŸÖÿ©.", 
    a_en: "üî¨ The museum features 19 specialized underground conservation labs, equipped with the latest technology to preserve Egyptian heritage for future generations." 
  },

  // Solar Boat
  { 
    id: 18, 
    keywords: ["solar boat","ŸÖÿ±ŸÉÿ®","ÿÆŸàŸÅŸà","khufu","ŸÇÿßÿ±ÿ® ÿ¥ŸÖÿ≥Ÿä","boat"], 
    a_ar: "‚õµ ŸÖŸÜ ÿ£ŸáŸÖ ÿßŸÑŸÖÿπÿ±Ÿàÿ∂ÿßÿ™ ŸÖÿ±ŸÉÿ® ÿÆŸàŸÅŸà ÿßŸÑÿ¥ŸÖÿ≥Ÿä ÿßŸÑÿ¥ŸáŸäÿ±ÿå ŸÖÿ±ŸÉÿ® ÿÆÿ¥ÿ®Ÿä ÿπŸÖÿ±Ÿá ÿ£ŸÉÿ´ÿ± ŸÖŸÜ 4500 ÿ≥ŸÜÿ©ÿå ÿßŸÉÿ™ÿ¥ŸÅ ÿ®ÿ¨ÿßŸÜÿ® ÿßŸÑŸáÿ±ŸÖ ÿßŸÑÿ£ŸÉÿ®ÿ±.", 
    a_en: "‚õµ Among the most important exhibits is the famous Khufu Solar Boat, a wooden vessel over 4,500 years old, discovered beside the Great Pyramid." 
  },

  // Grand Hall & Staircase
  { 
    id: 19, 
    keywords: ["grand hall","ÿßŸÑÿ®ŸáŸà","staircase","ÿ≥ŸÑŸÖ","entrance","ŸÖÿØÿÆŸÑ","columns","ÿ£ÿπŸÖÿØÿ©"], 
    a_ar: "üèõÔ∏è ÿßŸÑÿ®ŸáŸà ÿßŸÑŸÉÿ®Ÿäÿ± ŸàÿßŸÑÿ≥ŸÑŸÖ ÿßŸÑÿπÿ∏ŸäŸÖ Ÿäÿ∂ŸÖÿßŸÜ ÿ£ÿπŸÖÿØÿ© ÿπŸÖŸÑÿßŸÇÿ© ÿπŸÑŸäŸáÿß ŸÜŸÇŸàÿ¥ ŸáŸäÿ±Ÿàÿ∫ŸÑŸäŸÅŸäÿ© Ÿàÿ™ŸÖÿßÿ´ŸäŸÑ ÿ∂ÿÆŸÖÿ© ŸÑŸÑŸÅÿ±ÿßÿπŸÜÿ©. ŸÖÿØÿÆŸÑ ŸäŸÑŸäŸÇ ÿ®ÿπÿ∏ŸÖÿ© ŸÖÿµÿ±!", 
    a_en: "üèõÔ∏è The Grand Hall and Grand Staircase feature towering columns with hieroglyphic inscriptions and colossal pharaoh statues. An entrance worthy of Egypt's greatness!" 
  },

  // Developer Info
  { 
    id: 20, 
    keywords: ["developer","ŸÖÿ∑Ÿàÿ±","haitham","ŸáŸäÿ´ŸÖ","miracle boy","egyptian"], 
    a_ar: "üë®‚Äçüíª ÿ™ŸÖ ÿ™ÿ∑ŸàŸäÿ±Ÿä ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ŸáŸäÿ´ŸÖ 'The Egyptian Miracle Boy'ÿå ŸÖÿ™ÿÆÿµÿµ ŸÅŸä ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ ÿßŸÑŸÖÿ§ÿ≥ÿ≥Ÿäÿ© ŸÅŸä ÿ®ŸÑÿ™ŸàŸÜ ÿßŸÑŸÖÿßŸÑŸäÿ© ŸàŸÖÿ∑Ÿàÿ± ÿ∞ŸÉŸä ÿßÿµÿ∑ŸÜÿßÿπŸä ŸÖÿ®ÿØÿπ ŸÖŸÜ ŸÖÿµÿ±! üá™üá¨", 
    a_en: "üë®‚Äçüíª I was developed by Haitham 'The Egyptian Miracle Boy', a Corporate Sales Specialist at Beltone Financial and a creative AI developer from Egypt! üá™üá¨" 
  }
];

/* ========================= ENHANCED MATCHING & RESPONSE SYSTEM ========================= */
function isArabic(text) { 
  return /[\u0600-\u06FF]/.test(text); 
}

function normalize(s) { 
  return (s || '').toLowerCase()
    .replace(/[^\w\u0600-\u06FF\s]+/g, ' ')
    .replace(/\s+/g, ' ')
    .trim(); 
}

function scoreMatch(text, entry) {
  const norm = normalize(text);
  if (!norm) return 0;
  const tokens = norm.split(' ').filter(Boolean);
  let score = 0;
  
  for (const kw of entry.keywords) {
    const nk = normalize(kw);
    for (const t of tokens) {
      if (t.length < 2) continue;
      if (nk === t) score += 5;
      else if (nk.includes(t) || t.includes(nk)) score += 3;
      else if (nk.startsWith(t) || nk.endsWith(t)) score += 2;
      // Exact phrase matching
      if (norm.includes(nk)) score += 4;
    }
  }
  
  // Bonus for current events
  if (norm.match(/2025|november|1|opening|ÿßŸÅÿ™ÿ™ÿßÿ≠|ÿ∫ÿØ/)) score += 2;
  if (norm.match(/today|ÿßŸÑŸäŸàŸÖ|tomorrow|ÿ®ŸÉÿ±ÿ©|ÿ∫ÿØÿßŸã/)) score += 3;
  
  return score;
}

function findBestMatch(text) {
  const candidates = [];
  for (const entry of ENHANCED_KNOWLEDGE) {
    const score = scoreMatch(text, entry);
    if (score > 0) candidates.push({ entry, score });
  }
  
  candidates.sort((a, b) => b.score - a.score);
  return candidates.length ? candidates[0].entry : null;
}

function getContextualResponse(text, match, isArabic) {
  if (!match) {
    return isArabic ? 
      "ŸÖÿπÿ∞ÿ±ÿ©Ÿãÿå ÿßŸÑŸÖÿπŸÑŸàŸÖÿ© ÿØŸä ŸÖÿ¥ ŸÖÿ™ŸàŸÅÿ±ÿ© ÿØŸÑŸàŸÇÿ™Ÿä ŸÅŸä ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™Ÿä. ŸÖŸÖŸÉŸÜ ÿ™ÿ¨ÿ±ÿ® ÿ™ÿ≥ÿ£ŸÑ ÿ®ÿ∑ÿ±ŸäŸÇÿ© ŸÖÿÆÿ™ŸÑŸÅÿ© ÿ£Ÿà ÿ™ÿÆÿ™ÿßÿ± ŸÖŸÜ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ≥ÿ±Ÿäÿπÿ© ŸÅŸä ÿßŸÑŸÇÿßÿ¶ŸÖÿ©ÿü ÿ£ŸÜÿß ŸáŸÜÿß ÿπÿ¥ÿßŸÜ ÿ£ÿ≥ÿßÿπÿØŸÉ! üòä" :
      "I'm sorry, that information isn't available in my current database. Could you try rephrasing your question or choose from the quick prompts in the sidebar? I'm here to help! üòä";
  }
  
  const response = isArabic ? (match.a_ar || match.a_en) : (match.a_en || match.a_ar);
  
  // Add contextual information based on timing
  const now = new Date();
  const opening = new Date('2025-11-01');
  const isOpeningDay = now.toDateString() === opening.toDateString();
  
  if (isOpeningDay && match.id === 1) {
    return response + (isArabic ? 
      "\n\nüéâ ÿßŸÑŸäŸàŸÖ ŸáŸà ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ™ÿßÿ±ŸäÿÆŸä! ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿ®ŸäŸÅÿ™ÿ≠ ÿØŸÑŸàŸÇÿ™Ÿä!" :
      "\n\nüéâ Today is the historic day! The museum is opening right now!");
  }
  
  return response;
}

/* ========================= ENHANCED APP CORE ========================= */
const app = {
  isVoice: false,
  recognition: null,
  currentLanguage: 'ar',
  
  init() {
    this.messagesEl = document.getElementById('messages');
    this.input = document.getElementById('input');
    this.voiceBtn = document.getElementById('voiceBtn');
    this.setupSpeech();
    this.bind();
    this.updateCountdown();
    setInterval(() => this.updateCountdown(), 1000);
  },

  bind() {
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey && document.activeElement === this.input) {
        e.preventDefault();
        this.send();
      }
    });
  },

  updateCountdown() {
    const now = new Date();
    const opening = new Date('2025-11-01T00:00:00+02:00'); // Egypt timezone
    const diff = opening - now;
    
    if (diff <= 0) {
      document.getElementById('countdown').innerHTML = 'üéâ OPEN NOW!';
      return;
    }
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    
    if (days > 0) {
      document.getElementById('countdown').innerHTML = `${days} Days Left!`;
    } else {
      document.getElementById('countdown').innerHTML = `${hours}h ${minutes}m`;
    }
  },

  setupSpeech() {
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
      this.recognition = new SR();
      this.recognition.continuous = false;
      this.recognition.interimResults = false;
      this.recognition.onresult = (e) => {
        const transcript = e.results[0][0].transcript;
        this.input.value = transcript;
        this.onInput();
      };
      this.recognition.onerror = () => {};
    }
    
    if (window.speechSynthesis) {
      window.speechSynthesis.getVoices();
    }
  },

  toggleRecording() {
    if (!this.recognition) {
      alert('Speech recognition not supported in this browser.');
      return;
    }
    
    try {
      if (this.recognition._running) {
        this.recognition.stop();
        this.recognition._running = false;
        document.getElementById('mic').style.background = '';
      } else {
        this.recognition.lang = this.currentLanguage === 'ar' ? 'ar-EG' : 'en-US';
        this.recognition.start();
        this.recognition._running = true;
        document.getElementById('mic').style.background = 'var(--accent)';
      }
    } catch (e) {
      console.error('Speech recognition error:', e);
    }
  },

  toggleVoice() {
    this.isVoice = !this.isVoice;
    this.voiceBtn.style.background = this.isVoice ? 'var(--accent)' : '';
    this.voiceBtn.style.color = this.isVoice ? '#000' : '';
  },

  toggleLanguage() {
    const currentText = this.input.value.trim();
    if (!currentText) {
      const samples = {
        ar: "ŸÖÿ™Ÿâ ÿßŸÅÿ™ÿ™ÿßÿ≠ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ±ÿü",
        en: "When does the Grand Egyptian Museum open?"
      };
      this.currentLanguage = this.currentLanguage === 'ar' ? 'en' : 'ar';
      this.input.value = samples[this.currentLanguage];
    } else {
      // Auto-detect and suggest
      const isCurrentlyArabic = isArabic(currentText);
      const suggestion = isCurrentlyArabic ? 
        "Try asking in English: 'When does GEM open?'" :
        "ÿ¨ÿ±ÿ® ÿ™ÿ≥ÿ£ŸÑ ÿ®ÿßŸÑÿπÿ±ÿ®Ÿä: 'ŸÖÿ™Ÿâ ÿßŸÅÿ™ÿ™ÿßÿ≠ ÿßŸÑŸÖÿ™ÿ≠ŸÅÿü'";
      this.addMessage(suggestion, 'bot');
    }
    this.onInput();
  },

  showInfo() {
    const info = `
üèõÔ∏è ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸÖÿµÿ±Ÿä ÿßŸÑŸÉÿ®Ÿäÿ± - ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ≥ÿ±Ÿäÿπÿ©:

üìÖ ÿßŸÑÿßŸÅÿ™ÿ™ÿßÿ≠: 1 ŸÜŸàŸÅŸÖÿ®ÿ± 2025
üìç ÿßŸÑŸÖŸàŸÇÿπ: Ÿáÿ∂ÿ®ÿ© ÿßŸÑÿ¨Ÿäÿ≤ÿ©ÿå ÿ®ÿ¨ÿßŸÜÿ® ÿßŸÑÿ£Ÿáÿ±ÿßŸÖÿßÿ™
üé´ ÿßŸÑÿ≥ÿπÿ±: 30 ŸäŸàÿ±Ÿà ŸÑŸÑÿ£ÿ¨ÿßŸÜÿ® ÿßŸÑÿ®ÿßŸÑÿ∫ŸäŸÜ
‚è∞ ÿßŸÑÿ≠ÿ¨ÿ≤: Ÿäÿ®ÿØÿ£ 4 ŸÜŸàŸÅŸÖÿ®ÿ± ŸÑŸÑÿ¨ŸÖŸáŸàÿ±

ü§ñ ÿ™ŸÖ ÿ™ÿ∑ŸàŸäÿ±Ÿä ÿ®Ÿàÿßÿ≥ÿ∑ÿ© Knowing.AI
üí° ŸÖŸáŸÖÿ™ŸÜÿß: Know more. Do more.

Grand Egyptian Museum - Quick Info:
üìÖ Opening: November 1, 2025
üìç Location: Giza Plateau, next to Pyramids
üé´ Price: ‚Ç¨30 for adult foreigners
‚è∞ Booking: Starts November 4th for public
    `.trim();
    
    this.addMessage(info, 'bot');
  },

  sendPrompt(text) {
    this.input.value = text;
    this.send();
  },

  send() {
    const text = this.input.value.trim();
    if (!text) return;
    
    this.addMessage(text, 'user');
    this.input.value = '';
    this.onInput();
    this.showTyping();
    
    // Simulate more realistic response time
    setTimeout(() => this.respond(text), Math.random() * 800 + 400);
  },

  addMessage(content, role) {
    const welcome = document.getElementById('welcome');
    if (welcome) welcome.remove();
    
    const row = document.createElement('div');
    row.className = 'msg ' + (role === 'user' ? 'user' : 'bot');
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.innerHTML = role === 'user' ? 
      '<div style="font-size:28px">üôã‚Äç‚ôÇÔ∏è</div>' : 
      '<div style="font-size:36px">üë∏üèª</div>';
    
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    
    if (role === 'bot') {
      bubble.innerHTML = '<div class="title-small">SAFI</div>' + this.escapeHtml(content).replace(/\n/g, '<br>');
    } else {
      bubble.innerHTML = this.escapeHtml(content).replace(/\n/g, '<br>');
    }
    
    row.appendChild(avatar);
    row.appendChild(bubble);
    this.messagesEl.appendChild(row);
    this.scrollBottom();
  },

  showTyping() {
    this.removeTyping();
    this.typing = document.createElement('div');
    this.typing.className = 'msg bot';
    this.typing.id = 'typing';
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    avatar.innerHTML = '<div style="font-size:36px">üë∏üèª</div>';
    
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    bubble.innerHTML = `
      <div class="title-small">SAFI</div>
      <div style="color:var(--muted);display:flex;align-items:center;gap:8px">
        <span>ÿµÿßŸÅŸä ÿ®ÿ™ŸÉÿ™ÿ®</span>
        <div class="typing-dots">
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
          <div class="typing-dot"></div>
        </div>
      </div>
    `;
    
    this.typing.appendChild(avatar);
    this.typing.appendChild(bubble);
    this.messagesEl.appendChild(this.typing);
    this.scrollBottom();
  },

  removeTyping() {
    const typing = document.getElementById('typing');
    if (typing) typing.remove();
  },

  respond(userText) {
    this.removeTyping();
    
    const match = findBestMatch(userText);
    const isUserArabic = isArabic(userText);
    this.currentLanguage = isUserArabic ? 'ar' : 'en';
    
    const reply = getContextualResponse(userText, match, isUserArabic);
    
    this.addMessage(reply, 'bot');
    
    if (this.isVoice) {
      this.speak(reply, isUserArabic ? 'ar-EG' : 'en-US');
    }
  },

  speak(text, lang) {
    if (!('speechSynthesis' in window)) return;
    
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text.replace(/[üèõÔ∏èüéâüëëüåçüöÄüåê‚úàÔ∏èüî¨üé´üèóÔ∏èüìßüéäüè∫üöó‚õµüë®‚Äçüíªüòä]/g, ''));
    utterance.lang = lang || 'ar-EG';
    utterance.rate = 0.9;
    utterance.pitch = 1.1;
    
    const voices = window.speechSynthesis.getVoices();
    if (voices && voices.length) {
      let selectedVoice = null;
      
      if (lang && lang.startsWith('ar')) {
        selectedVoice = voices.find(v => 
          v.lang && v.lang.startsWith('ar') && 
          /female|woman|sara|salma|mona|hoda/i.test(v.name)
        ) || voices.find(v => v.lang && v.lang.startsWith('ar'));
      } else {
        selectedVoice = voices.find(v => 
          v.lang && v.lang.startsWith('en') && 
          /female|woman|samantha|karen|zira/i.test(v.name)
        ) || voices.find(v => v.lang && v.lang.startsWith('en'));
      }
      
      if (selectedVoice) utterance.voice = selectedVoice;
    }
    
    window.speechSynthesis.speak(utterance);
  },

  scrollBottom() {
    setTimeout(() => {
      this.messagesEl.scrollTop = this.messagesEl.scrollHeight + 200;
    }, 100);
  },

  reset() {
    if (confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ®ÿØÿ° ŸÖÿ≠ÿßÿØÿ´ÿ© ÿ¨ÿØŸäÿØÿ©ÿü / Start a new conversation?')) {
      location.reload();
    }
  },

  onInput() {
    const input = this.input;
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 260) + 'px';
  },

  onKey(event) {
    if (event.key === 'Enter' && !event.shiftKey) {
      event.preventDefault();
      this.send();
    }
  },

  escapeHtml(text) {
    return String(text)
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#039;');
  }
};

// Initialize app when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  app.init();
  console.log('üá™üá¨ KaiGPT ‚Ä¢ SAFI ‚Äî Grand Egyptian Museum Edition loaded successfully!');
  console.log('Developed with ‚ù§Ô∏è by Haitham - The Egyptian Miracle Boy');
});

// Global app exposure
window.app = app;
</script>
</body>
</html>
